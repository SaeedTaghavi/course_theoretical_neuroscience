/*
 * @overview underscore - JavaScript's utility _ belt
 * @copyright Copyright (c) 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jashkenas/underscore/master/LICENSE
 * @version   1.8.0
 */ require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a("./card.js"),a("./modal.js"),a("./button.js"),a("./slideshow.js"),a("./embed.js")},{"./button.js":2,"./card.js":3,"./embed.js":84,"./modal.js":85,"./slideshow.js":88}],2:[function(a,b,c){var d=a("./common/receiver.js"),e=a("./common/browser.js"),f=a("./common/track.js"),g=a("./common/utils.js"),h=a("./common/a.js"),i=a("./common/dom.js"),j=a("./common/urlparse.js"),k=a("./common/i18n.js"),l=new h,m=e.location.params(),n=!1,o={};o.init=function(a){return o._inited?!1:(o._inited=!0,document.body.id="button",d.connect(l,a),void l.notify("receiver.send","button.ready"))},o.create=function(a,b){if(o.init(a.sid,b),f.connect(l),f.configure({url:m.url},"button"),n===!0)return!1;n=!0;var c=i.create("button",{id:"embedly-button","class":"btn"});g.isNone(a)?i.addClass(c,"round"):"light-flat"===a.theme?(i.addClass(c,"flat"),i.addClass(c,"light")):"light-round"===a.theme?(i.addClass(c,"light"),i.addClass(c,"round")):"blue-flat"===a.theme?i.addClass(c,"flat"):i.addClass(c,"round"),a&&a.lang&&k.configure(a.lang);var d=k._("embed");d.length>7||"zh"===k.lang||"ko"===k.lang?l.notify("receiver.send","resize",{width:100}):d.length<5&&l.notify("receiver.send","resize",{width:65}),c.innerHTML="<i></i><span>"+d+"</span>",document.body.appendChild(c),i.addEvent(c,"click",function(){l.notify("track.event","button","click",j.getOrigin(document.referrer)),"window"===a.target?e.open("http://cdn.embedly.com/widgets/embed?url="+encodeURIComponent(m.url),"Embed Code",635,500,a.top,a.left):l.notify("receiver.send","button.click")}),l.notify("track.event","button","view",j.getOrigin(document.referrer)),l.notify("receiver.send","button.rendered")},window.buttons=o,g.isFunction(window.onButtonsReady)&&window.onButtonsReady(o)},{"./common/a.js":26,"./common/browser.js":30,"./common/dom.js":34,"./common/i18n.js":37,"./common/receiver.js":77,"./common/track.js":80,"./common/urlparse.js":82,"./common/utils.js":83}],3:[function(a,b,c){var d=a("./common/receiver.js"),e=a("./common/browser.js"),f=a("./common/utils.js"),g=a("./common/a.js"),h=a("./common/api.js"),i=a("./common/track.js"),j=a("./common/progress.js"),k=a("conf"),l=a("./cards/base.js");a("./cards/article.js"),a("./cards/error.js"),a("./cards/image.js"),a("./cards/video.js"),a("./cards/rich.js"),a("./cards/product.js"),a("./cards/feed.js"),a("./cards/airbnb.js"),a("./cards/bumpers.js"),a("./cards/cnn.js"),a("./cards/facebook.js"),a("./cards/github.js"),a("./cards/medium.js"),a("./cards/meetup.js"),a("./cards/pinterest.js"),a("./cards/reddit.js"),a("./cards/stocktwits.js"),a("./cards/twitter.js"),a("./cards/storify.js");var m=new g,n=e.location.params();if(l.init=function(a,b){return l._inited?!1:(l._inited=!0,document.body.id="cards",e.detect(),b?b.connect(m):a&&d.connect(m,a),void i.connect(m))},l.connect=function(a){j.media(m),m.on("card.snippet",function(b){var c={snippet:a.snippet()};b.location&&(c.via=b.location),m.notify("receiver.send","card.snippet",c)}),m.on("card.freeze",function(){a.freeze()}),m.on("card.edit",function(){a.edit()}),m.on("card.save",function(){a.save()}),m.on("card.set",function(b){"options"===b.type?a.options[b.key].call(a,b.value):a.update(b.key,b.value,!0),m.notify("receiver.send","card.snippet",{snippet:a.snippet()})}),m.on("card.view",function(){a.viewed===!1&&(a.viewed=!0,m.notify("track.event",a.name,"view"))}),m.on("card.get",function(b){var c=a.get(b);m.notify("receiver.send","card.get",c)}),m.on("card.meta",function(a){delete a.method,delete a.sid,m.notify("track.event","card","meta","log",a)}),m.on("card.ready",function(){m.notify("receiver.send","card.ready")}),m.notify("receiver.send","card.ready")},l.build=function(a,b){e.console.log("cards.build",a,b);var c=f.reduce(["url","title","description"],function(a,c){return b.options.hasOwnProperty(c)&&(a[c]=b.options[c]),a},{});c=f.extend({},b.extract,c),b.media.type&&(c.media=b.media);var d={url:b.options.url};b.options.key&&(d.key=b.options.key),i.configure(d,"card");var g=l.get(c,b.options,m);return f.each(l.editables,function(a){b.options.hasOwnProperty(a)&&(g.edits[a]=b.options[a])}),l.connect(g),g},l.create=function(a,b,c){b=f.extend({},b),b.options=f.extend({},b.options),b.extract=f.extend({},b.extract),b.media=f.extend({},b.media),l.init(b.options.sid,b.tunnel),f.assert(f.isElement(a)),l.build(a,b,c)},n.sid&&!e.isSandboxIframe()&&(l.init(n.sid),m.one("card.create",function(a){l.create(document.body,a)}),m.notify("receiver.send","card.load")),window.cards=l,f.isFunction(window.onCardsReady)&&window.onCardsReady(l),n.url){var o=["https://embed.redditmedia.com/widgets/card.html","http://embed.redditmedia.com/widgets/card.html",k.EMB_FRAME_SRC+"card.html"];f.each(o,function(a){if(document.URL.substr(0,a.length)===a){var b={card:1,v:"MTcyMDEw",youtube_showinfo:0,"native":!0};h.api().card([n.url],b,function(a){var b=a[0];l.create(document.body,{options:n,extract:b})})}})}b.exports=l},{"./cards/airbnb.js":4,"./cards/article.js":5,"./cards/base.js":6,"./cards/bumpers.js":7,"./cards/cnn.js":8,"./cards/error.js":9,"./cards/facebook.js":10,"./cards/feed.js":11,"./cards/github.js":12,"./cards/image.js":13,"./cards/medium.js":14,"./cards/meetup.js":15,"./cards/pinterest.js":17,"./cards/product.js":18,"./cards/reddit.js":19,"./cards/rich.js":20,"./cards/stocktwits.js":22,"./cards/storify.js":23,"./cards/twitter.js":24,"./cards/video.js":25,"./common/a.js":26,"./common/api.js":29,"./common/browser.js":30,"./common/progress.js":73,"./common/receiver.js":77,"./common/track.js":80,"./common/utils.js":83,conf:"conf"}],4:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/i18n.js"),h=a("../common/providers/airbnb.js");d.AirbnbCard=d.ArticleFullCard.extend({name:"airbnb",defaultTwitterVia:"airbnb",classNames:["article","airbnb"],controllable:!1,options:{chrome:null},attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",provider_name:".provider-name",provider_display:"provider_display",favicon_url:"favicon",images:"thumbnail",title:"title",description:"description",card:"card"},edit:function(){},before:function(a){this.url=h.track(this.url),a()},snippet:function(){var a={"class":"embedly-card"};return this.data.via&&(a["data-card-via"]=this.data.via),this.data.lang&&(a["data-card-lang"]=this.data.lang),h.blockquote(this.url,this.data.card,a)},title:function(a){var b=e.one(".title"),c=e.child(b,"a");a=this.data.card.title||a,f.isNone(c)?(c=e.create("a",{href:this.url,target:"_blank"}),e.one(".title").appendChild(c),this.hub.notify("track.click",c,this.name,"title")):c.href=this.url,e.text(c,a)},description:function(a){var b=e.one(".description");b.innerHTML=this.data.card.description||a},provider_url:function(){var a=e.one(".provider-name");a.href=h.track(h.domain(this.url)),this.hub.notify("track.click",a,this.type,"provider")},provider_display:function(){var a=e.one(".action");a.href=h.searchURL(this.url,this.data.card);var b=this.data.card.locality||this.data.card.city;a.innerHTML=this.data.card.action_tag||g._("view-all-listings",b),this.hub.notify("track.click",a,this.name,"read-on")},card:function(){e.addClass(document.body,"minimal")}}),d.MAP.push({re:/airbnb\.(\w+|\w+\.\w+)\/rooms\/.*/i,card:d.AirbnbCard,needs:["card.city"]})},{"../common/dom.js":34,"../common/i18n.js":37,"../common/providers/airbnb.js":74,"../common/utils.js":83,"./base.js":6}],5:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("../common/browser.js"),h=a("../common/ready.js"),i=a("../common/i18n.js"),j=a("../common/colors.js");d.ArticleCard=d.Card.extend({name:"article",type:"article",attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",title:"title",description:"description",provider_name:".provider-name",provider_display:"provider_display",favicon_url:"favicon",images:"thumbnail",authors:"authors"},classNames:["article","sm-img"],body:['<div class="bd">','<div class="pair-bd">','<div class="art-bd">','<a target="_blank" href="#"></a>',"</div>",'<div class="txt-bd">','<h1 class="title"><a target="_blank" href="#"></a></h1>','<p class="description"></p>','<a class="action" target="_blank" href="#"></a>',"</div>","</div>","</div>"].join(""),thumbnailWidth:175,thumbnailHeight:100,chromeable:!1,edit:function(){f.addClass(this.elem,"editable");var a=f.one(".title"),b=f.one(".description"),c=this,d=function(a){var b=f.event(a);if(b.stop(),e.isNone(this.parentNode))return!1;var c=f.create("textarea",{"class":this.getAttribute("class")});f.addClass(c,"editable-txt-area"),f.removeClass(c,"is-editable-txt"),c.value=f.text(this),f.replace(this,c),c.select(),f.addEvent(c,"blur",e.bind(g,c))},g=function(){var a=f.create("span",{"class":this.getAttribute("class")},this.value);f.removeClass(a,"editable-txt-area"),f.addClass(a,"is-editable-txt");var b=f.hasClass(a,"title")?"title":"description";c.data[b]!==this.value&&(c.edits[b]=this.value,c.trigger("snippet")),f.addEvent(a,"click",e.bind(d,a)),f.replace(this,a)};e.each([a,b],function(a){f.addClass(a,"is-editable-txt"),f.addEvent(a,"click",e.bind(d,a))});var h=f.create("a",{"class":"is-editable-delete",href:"#"});b.appendChild(h),f.addEvent(h,"click",e.bind(function(a){var c=f.event(a);c.stop(),f.remove(b),this.edits.description=!1,this.trigger("snippet")},this));var i=f.one(".art-bd"),j=f.create("a",{"class":"is-editable-delete",href:"#"});if(i.appendChild(j),f.addEvent(j,"click",e.bind(function(a){var b=f.event(a);b.stop(),this.edits.image=!1,this.trigger("snippet"),f.remove(i)},this)),"article-full"===this.name){var k=f.create("a",{"class":"is-editable-expand-contract",href:"#"});i.appendChild(k),f.addEvent(k,"click",function(a){var b=f.event(a);b.stop(),f.hasClass(c.elem,"sm-img")?(f.removeClass(c.elem,"sm-img"),c.edits.type="article-full"):(f.addClass(c.elem,"sm-img"),c.edits.type="article"),c.trigger("snippet"),c.resize()})}},save:function(){this.uneditable("title"),this.uneditable("description"),this.trigger("resize"),this.hub.notify("receiver.send","snippet",{snippet:this.snippet()})},ratio:function(a,b){var c;if("article"===this.name){var d,e;d=b.width<this.thumbnailWidth&&b.height<this.thumbnailHeight?b.height:b.height/b.width*this.thumbnailWidth,e=this.thumbnailWidth,g.window.innerWidth()<450&&(e=g.window.innerWidth()-40),c=(d-2)/e}else c=(this.thumbnailHeight-2)/this.thumbnailWidth;c=100*c+"%",a.style.paddingBottom=c},placeholder:function(a,b,c){var d,h;if(c.length>0&&e.each(c,function(a){a.url===b&&(d=a)}),d){if(d.colors&&d.colors.length>0){var i=d.colors[0].color;h=j.rgbToHex(i[0],i[1],i[2])}if(f.addClass(a,"art-place"),this.ratio(a,d,this.thumbnailWidth,this.thumbnailHeight),h&&(a.style.backgroundColor=h),"article"===this.name||"product"===this.name){var k=g.window.innerWidth()<450?"small":"full";f.addEvent(window,"resize",e.bind(function(){"small"===k&&g.window.innerWidth()>450?(k="full",this.ratio(a,d)):g.window.innerWidth()<450&&(k="small",this.ratio(a,d))},this))}}},thumbnail:function(a){var b,c=f.one(".art-bd");if(e.isNone(c))return!1;var g=f.child(c,"a"),i=f.one(".card");if(this.data.options.image)b=this.data.options.image;else{if(0===a.length)return f.removeClass(i,"sm-img"),!1;b=a[0].url}if(e.bool(b)===!1)return f.remove(c),!1;g.setAttribute("target","_blank"),g.setAttribute("href",this.url),this.placeholder(g,b,a),b="article"===this.name||"product"===this.name?d.display.resize(b,{width:this.thumbnailWidth}):d.display.crop(b,{width:this.thumbnailWidth,height:this.thumbnailHeight});var j=f.create("img",{"class":"art-bd-img"});h.elem(j,e.bind(function(){j.style.opacity=1,g.style.backgroundColor="#fff",f.removeClass(g,"art-place"),this.hub.notify("receiver.send","resize",{height:document.body.offsetHeight})},this)),setTimeout(function(){j.src=b},1),g.appendChild(j),this.hub.notify("track.click",g,this.name,"thumbnail")},provider_display:function(a){var b=f.one(".action");e.isNone(b)||("www."===a.substr(0,4)&&(a=a.substr(4)),b.setAttribute("href",this.url),"product"===this.name?b.innerHTML=i._("view-product-on",a)+" &gt;":this.data.content?b.innerHTML=i._("read-article-on",a)+" &gt;":b.innerHTML=i._("read-this",a)+" &gt;",this.hub.notify("track.click",b,this.name,"read-on"))}}),d.ArticleFullCard=d.ArticleCard.extend({name:"article-full",type:"article",classNames:["article"],thumbnailWidth:636,thumbnailHeight:300})},{"../common/browser.js":30,"../common/colors.js":32,"../common/dom.js":34,"../common/i18n.js":37,"../common/ready.js":76,"../common/utils.js":83,"./base.js":6}],6:[function(a,b,c){var d=a("../common/utils.js"),e=a("../common/dom.js"),f=a("conf"),g=a("../common/browser.js"),h=a("../common/urlparse.js"),i=a("../common/class.js"),j=a("../common/api.js"),k=a("../common/i18n.js"),l=a("../common/favicons.js"),m=a("./snippets.js"),n={standardClasses:["article","video","rich","image"],editables:["image","embed","title","description","lang"],width:600,extractless:/https:\/\/\w+\.pinterest\.com\/.*/};n.api=j.api(),n.display=j.display(),n.MAP=[],n.get=function(a,b,c){var e,f=a.url;e="error"===a.type?"error":b.type?b.type:"photo"===d.get(a,"media.type")||"image"===a.type?"image":"video"===d.get(a,"media.type")?"video":"rss"===a.type?"rss":"rich"===d.get(a,"media.type")?!d.get(a,"media.html")||/<script.*?>/.test(d.get(a,"media.html",""))?"article":"rich":!a.width&&a.images&&a.images.length>0&&a.images[0].width>450?"article-full":"article",a.options=b;var g=null;return d.each(n.MAP,function(b){if(d.isNone(g)&&b.re.test(f)){var e=!0;b.needs&&b.needs.length>0&&(e=d.every(b.needs,function(b){return d.isFunction(b)?b.call(this,a):!d.isNone(d.get(a,b))})),e&&(g=new b.card(f,c,a))}}),d.isNone(g)?"article"===e?new n.ArticleCard(f,c,a):"article-full"===e?new n.ArticleFullCard(f,c,a):"video"===e?new n.VideoCard(f,c,a):"image"===e?new n.ImageCard(f,c,a):"rich"===e?new n.RichCard(f,c,a):"error"===e?new n.ErrorCard(f,c,a):"static-video"===e?new n.StaticVideoCard(f,c,a):"rss"===e?new n.FeedCard(f,c,a):null:g},n.Card=i.extend({name:null,type:null,attrMap:{},header:['<div class="hdr">','<div class="provider provider-gt-35">','<span class="provider-favicon"></span>','<a class="provider-name" target="_blank" href="">&nbsp;</a>','<span class="author">&nbsp;</span>',"</div>","</div>"].join(""),footer:['<div class="brd"><a href="http://embed.ly/cards" target="_blank"></a></div>'].join(""),classNames:[],borderColor:null,chromeable:!0,themeable:!0,controllable:!0,viewed:!1,defaultTwitterVia:"embedly",delayRendered:!1,_options:{lang:function(a){k.configure(a)},via:function(a){var b=e.one(".provider"),c=h.getDomain(a);if(null===c)return!1;var d=e.create("span",{"class":"via"});b.appendChild(d);var f='<a class="via-link" href="'+a+'" target="_blank" tabindex="-1">'+c+"</a>",g=e.create("span");d.appendChild(g),g.innerHTML=k._("via",f);var i=e.one(".via-link");this.hub.notify("track.click",i,this.type,"via")},chrome:function(a){"minimal"!==a&&d.bool(a)?e.removeClass(document.body,"minimal"):e.addClass(document.body,"minimal")},theme:function(a){"dark"===a?e.addClass(document.body,"theme-dark"):e.removeClass(document.body,"theme-dark")}},_triggers:{snippet:function(){this.hub.notify("receiver.send","card.snippet",{snippet:this.snippet()})},amp:function(){d.bool(this.data.options.amp)&&(clearTimeout(this._ampTimeout),this._ampTimeout=setTimeout(d.bind(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:this.height()},"*")},this),100))},resize:function(){var a=this.height();this._height&&this._height===a||(this._height=a,a>90&&(this.hub.notify("receiver.send","resize",{height:a}),this.trigger("amp")))},rendered:function(){var a=this.data.options.controls?d.bool(this.data.options.controls):!0,b={url:this.data.url,chromeable:this.chromeable,themeable:this.themeable,controls:this.controllable?a:!1,name:this.name,type:this.type,height:this.height(),width:this.data.options.width?this.data.options.width:n.width,align:this.data.options.align?this.data.options.align:"center",defaultTwitterVia:this.defaultTwitterVia};b=this.beforeRendered(b),this.hub.notify("receiver.send","card.rendered",b),this.trigger("amp")}},init:function(a,b,c){this.url=a,this.hub=b,this.elem=null,this.edits={},this.frozen=!1,this.options=d.extend(this._options,this.options?this.options:{}),this.triggers=d.extend(this._triggers,this.triggers?this.triggers:{}),this.data=c,this.before(d.bind(function(){this.css(),this.draw(),d.each(this.data.options,function(a,b){this.options.hasOwnProperty(b)&&d.isFunction(this.options[b])&&this.options[b].call(this,a)},this),this.branding(),d.each(this.data,function(a,b){this.update(b,a)},this),this.after(),this.hub.notify("track.hover",this.elem,this.name),this.delayRendered||this.trigger("rendered")},this))},paid:function(){var a=[d.isObject(this.data.options)&&this.data.options.key,d.isObject(this.data.card)&&this.data.card.paid===!0];return d.every(a)},branding:function(){this.paid()&&e.addClass(document.body,"no-branding"),d.isObject(this.data.options)&&d.bool(this.data.options.branding)===!1&&e.addClass(document.body,"no-branding")},css:function(){var a=this.data.options.css;if(!a)return!1;var b=e.one("head"),c=function(a){var c=e.create("link");c.rel="stylesheet",c.href=a,c.className="embedly-css",b.appendChild(c)},d=function(a){var c=e.create("style");e.text(c,a),c.className="embedly-css",b.appendChild(c)},f=/^(link|style):([\s\S]+)/.exec(a);if(f&&3===f.length){var g=f[1],h=f[2];"link"===g?c(h):d(h)}/^https?:\/\/(.*)/.exec(a)?c(a):d(a)},trigger:function(a){this.triggers.hasOwnProperty(a)?this.triggers[a].call(this):g.console.error("No Trigger for "+a)},beforeRendered:function(a){return a},proportions:function(){setTimeout(d.bind(function(){var a=0;this.trigger("resize");var b=setInterval(d.bind(function(){this.currentHeight!==this.height()&&(this.currentHeight=this.height(),this.trigger("resize")),a+=1,a>5&&clearInterval(b)},this),250)},this),250)},width:function(){if(this.data.options.width){var a=/^(\d+)(%|px)?$/.exec(this.data.options.width);if(a){var b=parseInt(a[1],10),c=a[2];return"%"===c?"100%":parseInt(b,10)}}return n.width},height:function(){return document.body.offsetHeight},snippet:function(){return m.create(this.name,this.data,this.edits)},draw:function(){e.addClass(document.body,"card-bd ltr font-wf-sans border-blockquote theme-light minimal"),document.body.style.maxWidth=this.width();var a=e.create("div",{"class":"card "+this.classNames.join(" ")});a.innerHTML=this.header+this.body+this.footer,document.body.appendChild(a),this.elem=a,this.proportions(),this.hub.notify("track.event",this.name,"load");var b,c=d.bind(function(){var a=this.height();a!==this.currentHeight&&(this.currentHeight=a,this.trigger("resize"))},this);e.addEvent(window,"resize",function(){clearTimeout(b),b=setTimeout(c,100)});var f=e.one(".brd a");if(f){var g={utm_source:h.getDomain(document.URL),utm_medium:"referral",utm_campaign:"cards-powered"};f.href=h.appendQuery("http://embed.ly/cards",g),this.hub.notify("track.click",f,"embedly-powered")}},before:function(a){a()},after:function(){},update:function(a,b,c){var f=this.attrMap[a];return f?d.isNone(b)?!1:("."===f[0]?d.each(e.all(f),function(a){e.text(a,b)},this):!d.isNone(this[f])&&d.isFunction(this[f])&&this[f].call(this,b),void(c===!0&&(this.data[a]=b))):!1},edit:function(){},save:function(){},freeze:function(){this.frozen=!0,d.each([".dd-source",".dd-about",".dd-logo"],function(a){var b=e.one(a);e.addEvent(b,"click",function(a){var b=e.event(a);b.stop()})})},get:function(a){g.console.log("card.get",a);var b,c={};return"text"===a.type&&a.className?(b=e.one("."+a.className),c.value=b?e.text(b):null,c):"hasClass"===a.type&&a.className?(b=e.one("."+a.className),c.value=b?!0:!1,c.classes=[],b&&(c.classes=d.reduce(b.className.split(" "),function(a,b){return b=d.trim(b),b&&a.push(b),a},[])),c):"attribute"===a.type&&a.className&&a.attribute?(b=e.one("."+a.className),b?c.value=b.getAttribute(a.attribute):c.value=null,c):"trigger"===a.type&&a.className?(b=e.one("."+a.className),b?(e.trigger(b,a.event),c.value=!0):c.value=!1,c):c},favicon:function(a){if(d.isNone(a))return!1;var b=e.one(".provider-favicon");(g.isIE()||f.EMB_HTTPS)&&(a=n.display.display(a,{width:16,height:16}));var c=e.create("img",{src:a,width:16,height:16,"class":"provider-favicon"});e.replace(b,c)},title:function(a){var b=e.one(".title"),c=e.child(b,"a");d.isNone(c)?(c=e.create("a",{href:this.url,target:"_blank"}),e.one(".title").appendChild(c),this.hub.notify("track.click",c,this.name,"title")):c.href=this.url,e.text(c,a),this.hub.notify("track.click",c,this.name,"title")},description:function(a){var b=e.one(".description");"0"===a||"false"===a?e.remove(b):e.text(b,a)},provider_url:function(a){var b=e.one(".provider-name");b.href=a,this.hub.notify("track.click",b,this.type,"provider")},favicon_colors:function(a){var b,c=e.one(".bd");return(b=this.borderColor?this.borderColor:l.hex(a))?void(c.style.borderLeftColor=b):!1},authors:function(a){if(d.isNone(a)||0===a.length)return!1;a.splice(2);var b=[];d.each(a,function(a){var c;c=a.url?e.create("a",{href:a.url,tabindex:"-1",target:"_blank"}):e.create("span"),e.text(c,a.name),b.push(c),this.hub.notify("track.click",c,this.name,"author")},this);var c=e.one(".author");c.appendChild(b[0]),2===b.length&&(c.innerHTML+=" and ",c.appendChild(b[1]))}}),b.exports=n},{"../common/api.js":29,"../common/browser.js":30,"../common/class.js":31,"../common/dom.js":34,"../common/favicons.js":35,"../common/i18n.js":37,"../common/urlparse.js":82,"../common/utils.js":83,"./snippets.js":21,conf:"conf"}],7:[function(a,b,c){var d=a("./base.js");d.Bumpers=d.RichCard.extend({paid:function(){return!0}}),d.MAP.push({re:/bumpers\.fm\/e\/.*/i,card:d.Bumpers})},{"./base.js":6}],8:[function(a,b,c){var d=a("./base.js"),e=a("../common/urlparse.js"),f={};f.isFlash=function(a){if(!a.media.html)return!1;var b=/\ src="(.*?)"/.exec(a.media.html);if(2===b.length){var c=e.getQuery(b[1]);if("application/x-shockwave-flash"===c.type)return!0}return!1},d.MAP.push({re:/cnn\.com\/video\/.*/i,card:d.NonResponsiveVideoCard,needs:[f.isFlash]})},{"../common/urlparse.js":82,"./base.js":6}],9:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js");d.ErrorCard=d.Card.extend({name:"error",type:"error",attrMap:{url:"error"},body:['<div class="error"></div>'].join(""),error:function(a){var b=e.one(".error"),c=e.create("a",{href:a,target:"_blank"});c.textContent=a,b.appendChild(c)}})},{"../common/dom.js":34,"./base.js":6}],10:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/ready.js");d.Facebook=d.RichCard.extend({before:function(a){g.script("https://connect.facebook.net/en_US/all.js#xfbml=1",a)},media:function(a){var b=e.one(".resp-media");if(a.html&&"video"===a.type)b.innerHTML=a.html;else{var c=e.create("div",{"class":"fb-post","data-href":this.data.url,"data-width":document.body.offsetWidth});b.appendChild(c)}e.addClass(document.body,"minimal");var d=e.one(".art-bd"),g=e.one(".fb-post");if(g){e.removeClass(b,"resp-media"),e.data(g,"width",d.offsetWidth);var h,i=f.bind(function(){e.data(g,"width",d.offsetWidth),FB.XFBML.parse(document,f.bind(function(){this.trigger("resize")},this))},this);e.addEvent(window,"resize",f.bind(function(){clearTimeout(h),h=setTimeout(i,150)},this)),FB.Event.subscribe("xfbml.render",f.bind(function(){this.trigger("resize")},this))}else if(a.height&&a.width){var j=(a.height/a.width*100).toPrecision(4);b.style.paddingBottom=j+"%"}}}),d.MAP.push({re:/www\.facebook\.com\/((.+\/(photos|posts|videos)\/.+)|(permalink|photo|video|video\/video)\.php)/i,card:d.Facebook})},{"../common/dom.js":34,"../common/ready.js":76,"../common/utils.js":83,"./base.js":6}],11:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/i18n.js"),h=a("../common/api.js");d.FeedCard=d.Card.extend({name:"feed",type:"feed",classNames:["feed"],attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",provider_name:".provider-name",provider_display:"provider_display",favicon_url:"favicon",feed:"feed"},body:['<div class="bd">',"</div>"].join(""),before:function(a){var b="https://push.superfeedr.com/?authorization="+window.btoa("embedly:7e18dfe25271b308250a38487e6c6f37"),c=["hub.mode=subscribe","hub.topic="+this.data.url,"hub.callback=https://push.superfeedr.com/dev/null","format=json","retrieve=true"].join("&");h.ajax(b,f.bind(function(b){this.data.feed=b,a()},this),{"Content-Type":"application/x-www-form-urlencoded"},c)},feed:function(a){var b,c,d=e.one(".bd"),i=h.display(),j=a.items.length<5?a.items.length:5,k=f.bind(function(){this.trigger("resize")},this),l=function(a){return f.reduce(a,function(a,b){return b.href?"image/png"===b.type?b.href:a?a:b.href:a},null)};for(b=0;j>b;b++){c=a.items[b];var m;c.standardLinks&&c.standardLinks.thumbnail&&(m=l(c.standardLinks.thumbnail));var n=e.create("a",{"class":"feed-entry",href:c.permalinkUrl,target:"_blank"}),o=e.create("h4",{"class":"feed-title"}),p=e.create("span",{"class":"feed-more"});if(m){var q=e.create("img",{"class":"feed-image"});e.addEvent(q,"load",k),q.src=i.crop(m,{width:700,height:300}),n.appendChild(q)}e.text(o,c.title),n.appendChild(o),p.innerHTML=g._("read-article-on",a.title)+" &gt;",n.appendChild(p),d.appendChild(n)}}})},{"../common/api.js":29,"../common/dom.js":34,"../common/i18n.js":37,"../common/utils.js":83,"./base.js":6}],12:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js");d.GitHub=d.RichCard.extend({media:function(a){var b=f.one(".resp-media"),c=document.createElement("iframe");c.frameBorder="0",c.scrolling="no",b.appendChild(c),f.addEvent(c,"load",e.bind(function(){var a=c.contentWindow.document,d=a.body.offsetHeight,g=e.bind(function(){b.style.paddingBottom=(d/b.offsetWidth*100).toString()+"%",this.trigger("resize")},this);f.addEvent(window,"resize",g),g(),e.each(a.querySelectorAll("a"),function(a){a.target="_blank"})},this));var d=["%3C!DOCTYPE html%3E","%3Chtml%3E","%3Chead%3E","%3Cstyle%3E","html, body {padding:0; margin: 0;}",".gist .gist-file {margin-bottom: 0 !important;}","%3C/style%3E","%3C/head%3E","%3Cbody%3E",a.html.replace("<","%3C").replace(">","%3E"),"%3C/body%3E","%3C/html%3E"].join(""),g=c.contentWindow.document;g.open(),g.write(decodeURIComponent(d)),g.close()}}),d.MAP.push({re:/gist\.github\.com\/[^\/]+\/[^\/]+/i,card:d.GitHub,needs:["media.html"]})},{"../common/dom.js":34,"../common/utils.js":83,"./base.js":6}],13:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("../common/ready.js");d.ImageCard=d.Card.extend({name:"image",type:"image",classNames:["image"],attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",provider_name:".provider-name",favicon_url:"favicon",media:"media",authors:"authors"},body:['<div class="bd">','<div class="pair-bd">','<div class="art-bd">','<a target="_blank" href="#"></a>',"</div>","</div>","</div>"].join(""),media:function(a){var b=f.one(".art-bd"),c=f.create("a",{href:this.url,target:"_blank"});b.appendChild(c);var h=f.create("img",{"class":"art-bd-img"});g.elem(h,e.bind(function(){h.style.opacity=1,this.hub.notify("receiver.send","resize",{height:document.body.offsetHeight})},this)),setTimeout(function(){h.src=d.display.display(a.url)},1),c.appendChild(h),this.hub.notify("track.click",c,this.name,"image")}})},{"../common/dom.js":34,"../common/ready.js":76,"../common/utils.js":83,"./base.js":6}],14:[function(a,b,c){var d=a("./base.js");d.MAP.push({re:/medium\.com\/.*/i,card:d.ArticleCard,needs:["media.html"]})},{"./base.js":6}],15:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js");d.MeetupCard=d.RichCard.extend({media:function(a){var b=e.one(".resp-media");b.innerHTML=a.html;var c=e.one("#meetup_oembed");b.style.height=c.style.height,e.removeClass(b,"resp-media")}}),d.MAP.push({re:/www\.meetup\.com\/.*/i,card:d.MeetupCard,needs:["media.html"]})},{"../common/dom.js":34,"./base.js":6}],16:[function(a,b,c){var d=a("../common/utils.js"),e=a("../common/progress.js"),f=a("conf"),g=a("../../libs/playerjs/player-0.0.10.js"),h={};h.player=function(a,b){if(d.isNone(b))return!1;a.player=new g.Player(b),a.player.on("ready",function(){a.hub.notify("receiver.send","card.player.ready")}),f.EMB_PROGRESS&&a.hub.on("media.progress.data",function(b){a.hub.notify("track.event",a.name,"progress",e.stringify(b.times),{d:b.duration})});var c=function(b,c){return function(d){a.hub.notify("receiver.send",b,{context:"player.js",value:d,event:b,listener:c})}};a.hub.on("addEventListener",function(b){var d=c(b.value,b.listener);a.player.on(b.value,d)}),a.hub.on("removeEventListener",function(b){a.player.off(b.event)}),d.each(["play","pause","mute","unmute","setVolume","setCurrentTime"],function(b){a.hub.on(b,function(c){a.player[b].call(a.player,c.value)})}),d.each(["getPaused","getMuted","getVolume","getDuration","getCurrentTime"],function(b){a.hub.on(b,function(d){var e=c(b,d.listener);a.player[b].call(a.player,e)})});var h={play:0,pause:0,ended:0};a.player.on("play",d.bind(function(){this.hub.notify("track.event",this.name,"play",h.play),h.play++},a)),a.player.on("pause",d.bind(function(){this.hub.notify("track.event",this.name,"pause",h.pause),h.pause++},a)),a.player.on("ended",d.bind(function(){this.hub.notify("track.event",this.name,"ended",h.ended),h.ended++,this.hub.notify("media.ended")},a)),a.player.on("timeupdate",d.bind(function(a){this.hub.notify("media.timeupdate",a)},a))},b.exports=h},{"../../libs/playerjs/player-0.0.10.js":92,"../common/progress.js":73,"../common/utils.js":83,conf:"conf"}],17:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/ready.js"),g=a("../common/ready.js"),h={pin:/pinterest\.com\/pin\/.*/,board:/pinterest\.com\/.*\/.*\/.*/};h.pinDo=function(a){return h.pin.test(a)?"embedPin":h.board.test(a)?"embedBoard":"embedUser"},d.Pinterest=d.RichCard.extend({classNames:["rich","pinterest"],delayRendered:!0,interval:null,before:function(a){window.pinError=f.bind(this.pinError,this),this.data.title="Pinterest",this.data.provider_name="Pinterest",this.data.provider_url="https://www.pinterest.com",this.data.favicon_url="https://www.pinterest.com/favicon.ico",g.script("https://assets.pinterest.com/js/pinit.js",a,this,{"data-pin-error":"pinError"})},pinError:function(){clearInterval(this.interval),this.type="error",this.name="error",this.trigger("rendered")},after:function(){var a=e.one(".resp-media");e.removeClass(a,"resp-media"),e.addClass(document.body,"minimal");var b=['<a href="'+this.url+'"','data-pin-width="large"','data-pin-do="'+h.pinDo(this.url)+'"></a>'].join(" ");a.innerHTML=b;var c=0,d=50,g=8e3/d;this.interval=setInterval(f.bind(function(){0!==e.children(a,"span").length&&(clearInterval(this.interval),this.trigger("rendered")),c>g&&this.pinError(),c++},this),50),setTimeout(f.bind(function(){this.hub.notify("receiver.send","pinterest.log")},this),500)}}),d.MAP.push({re:/https?:\/\/\w+\.pinterest\.com\/.*/,card:d.Pinterest})},{"../common/dom.js":34,"../common/ready.js":76,"../common/utils.js":83,"./base.js":6}],18:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("../common/i18n.js");a("./article.js"),d.ProductCard=d.ArticleCard.extend({name:"product",type:"product",classNames:["product","sm-img"],borderColor:"#fea707",body:['<div class="bd">','<div class="pair-bd">','<div class="art-bd">','<a target="_blank" href="#"></a>',"</div>",'<div class="txt-bd">','<h1 class="title"><a target="_blank" href="#"></a></h1>','<span class="author pd-author"></span>','<p class="description"></p>','<span class="meta meta-price"></span>','<a class="action" target="_blank" href="#"></a>',"</div>","</div>","</div>",'<div class="ftr">','<div class="ftr-left">','<i class="icn-cart" alt="Cart icon"></i>','<span class="ftr-title"></span>',"</div>",'<div class="ftr-right">','<a href="#" target="_blank" class="btn btn-amazon">'+g._("add-to-cart")+"</a>","</div>","</div>"].join(""),
formatPrice:function(a,b){var c=" ";switch(b){case"EUR":c+="&euro;";break;case"GBP":c+="&pound;";break;case"JPY":c+="&yen;";break;default:c+="$"}return c+=a},after:function(){var a=f.one(".ftr-title");f.text(a,this.data.provider_name+" Shop");var b=f.one(".btn-amazon");b.href=this.data.url,this.hub.notify("track.click",b,"product","add-to-cart");var c=e.get(this.data,"card.price"),d=e.get(this.data,"card.currency");if(c&&d){var g=f.one(".meta-price"),h=f.create("i",{alt:"Price icon","class":"icn-price"}),i=f.create("span",{"class":"meta-txt"});i.innerHTML=this.formatPrice(c,d),g.appendChild(h),g.appendChild(i)}var j=e.get(this.data,"card.studio");if(j){var k=f.one(".pd-author");f.text(k,"Product by "+j)}}}),d.MAP.push({re:/https?:\/\/www\.amazon\.[\.\w]+\/.*/i,card:d.ProductCard})},{"../common/dom.js":34,"../common/i18n.js":37,"../common/utils.js":83,"./article.js":5,"./base.js":6}],19:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/api.js"),h=a("../common/ready.js"),i=a("./mixins.js"),j=a("../common/urlparse.js"),k=a("../common/timeago.js"),l=a("../common/amp.js"),m={key:"T_PGcjtzQ_QB0Q",comments:!1};m.id=function(a){var b=/reddit\.com\/(?:r|user)\/[-\w]+\/comments\/(\w+)\/.*/.exec(a);return b?b[1]:null},m.commentId=function(a){var b=/reddit\.com\/r\/[-\w]+\/comments\/(\w+)\/.*\/(\w+)/.exec(a);return b?b[2]:null},m.toHTML=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},m.access=function(a){var b={scope:"read",grant_type:"https://oauth.reddit.com/grants/installed_client",device_id:"DO_NOT_TRACK_THIS_DEVICE"},c="https://www.reddit.com/api/v1/access_token",d=new XMLHttpRequest;d.open("POST",c,!0),d.setRequestHeader("Authorization","Basic "+window.btoa(m.key+":")),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.setRequestHeader("Accept","application/json"),d.onreadystatechange=function(){4===d.readyState&&a(200===d.status?JSON.parse(d.responseText):{type:"error"})},d.send(g.safeCreateQuery(b))},m.get=function(a,b){var c="https://www.reddit.com/comments/"+a+".json?limit=1&app=embed",d={};g.ajax(c,b,d)},m.comment=function(a,b){var c="https://www.reddit.com/api/info.json?id=t1_"+a+"&app=embed";g.ajax(c,b)},m.getImage=function(a){var b;if(a.preview&&a.preview.images&&a.preview.images.length){var c=a.preview.images[0];if(c.resolutions&&c.resolutions.length){var d,e;for(e=0;e<c.resolutions.length;e++)if(d=c.resolutions[e],d.width>550){b=d.url;break}if(b||(b=c.resolutions[c.resolutions.length-1].url),b)return m.toHTML(b)}}return null},d.RedditCard=d.Card.extend({name:"reddit",type:"article",attrMap:{card:"card"},classNames:["reddit"],header:"",body:['<div class="bd">','<div class="reddit-post">','<a href="#" class="reddit-title" target="_blank" data-label="post-title"></a>','<div class="reddit-preview"></div>',"</div>",'<div class="reddit-comment"></div>',"</div>"].join(""),controllable:!1,options:{_comment:function(a){this.data.options.comment=f.bool(a);var b=e.one(".reddit-comment");b.innerHTML="",this.data.options.comment===!0&&this.comment(),this.trigger("resize")},preview:function(a){this.data.options.preview=f.bool(a);var b=e.one(".reddit-preview");b.innerHTML="",1===a&&this.preview(),this.trigger("resize")},created:function(a){this.data.options.created=a},instant:function(a){this.data.options.instant=a},amp:function(a){this.data.options.amp=a}},before:function(a){var b=m.id(this.data.url);this.embedType="post_embed",this.embedID=b,m.get(b,f.bind(function(b){var c=b[0].data.children[0].data;if(c.crosspost_parent){var d=c.crosspost_parent.split("_")[1];m.get(d,f.bind(function(c){var e=c[0].data.children[0].data;b[0].data.children[0].data.media=e.media,b[0].data.children[0].data.media.id=d,this.data.card=b,a()},this))}else this.data.card=b,a()},this))},beforeRendered:function(a){return a.previewable=""!==e.one(".reddit-preview").innerHTML,a},backgroundClick:function(a){e.addEvent(e.one(".reddit-post"),"click",f.bind(function(b){var c=b.target;return"A"===c.nodeName||"IMG"===c.nodeName?!1:(window.open(this.track(a,"body")),void this.hub.notify("track.event","reddit","click","body"))},this))},track:function(a,b){this.uuid||(this.uuid=f.getUUID());var c={utm_source:"embedly",utm_medium:this.embedType,utm_name:this.uuid,utm_term:this.embedID,utm_content:b};return j.appendQuery(a,c)},snippet:function(){var a=this.data,b=a.card[0].data.children[0].data,c={"class":"reddit-card"},d={};a.options.comment===!0&&(d.comment="1"),a.options.preview===!1&&(d.preview="1"),f.bool(a.options.created)!==!1&&(d.created=Math.round((new Date).getTime()/1e3)),f.each(d,function(a,b){c["data-card-"+b]=a});var g;if(g=["<blockquote "+e.attrize(c)+">",'<a href="'+a.url+'">'+b.title+"</a>"," from ",'<a href="http://www.reddit.com/'+b.subreddit_name_prefixed+'">'+b.subreddit_name_prefixed+"</a>","</blockquote>"].join(""),this.data.options.instant)g=['<figure class="op-interactive">',"<iframe>",g,"</iframe>","</figure>"].join("");else if(this.data.options.amp){var h=m.getImage(b);g=l.reddit(a.url,h,d)}return g},limit:function(a,b){b=m.toHTML(b),a.style.display="none",a.innerHTML=b;var c=e.toArray(a.querySelectorAll(".reddit-self p"));if(c.length>2){f.each(c.slice(2),function(a){e.remove(a)});var d=e.create("p",{"class":"more"});d.innerHTML='<a href="'+this.url+'" target="_blank">Read More...</a>',a.appendChild(d)}a.style.display="block"},progressive:function(a,b){var c=m.toHTML(b.html),f=/src="(.*?)"/.exec(c);if(f){var g=f[1];e.data(a,"src",encodeURIComponent(g));var h=e.create("img",{src:d.display.display(b.thumbnail_url)}),j=e.create("span");a.appendChild(h),a.appendChild(j);var k=this;this.hub.on("card.view",function(){var b=decodeURIComponent(e.data(a,"src")),c=e.create("iframe");c.frameBorder="0",c.allowFullscreen=!0,c.scrolling="no";var d=!1;e.addEvent(c,"load",function(){d&&(e.remove(h),e.remove(j)),/cdn\.embedly\.com/.exec(b)&&i.player(k,c)}),setTimeout(function(){d=!0,c.src=b},1),a.appendChild(c)})}else a.innerHTML=c},preview:function(){var a=this.data.card[0].data.children[0].data;if(f.bool(this.data.options.preview)!==!1){var b,c,g,i=e.one(".reddit-preview"),j=function(a){return"image"===a.post_hint?!0:/\.(png|gif|jpeg|jpg)($|\?.*)/.exec(a.url)?!0:/i\.reddituploads\.com/.exec(a.url)?!0:/imgur\.com/.exec(a.url)?!0:!1},k=function(a){if(a.preview&&a.preview.images&&a.preview.images.length>0){var b=a.preview.images[0].variants;if(b&&b.mp4&&b.mp4.source&&b.mp4.source.url)return!0}return!1};if(a.media&&a.media.oembed){if(a.media.oembed.html){var l=a.media.oembed;c=e.create("div",{"class":"resp-media"}),g=(l.height/l.width*100).toPrecision(4),c.style.paddingBottom=g+"%",this.progressive(c,l),i.appendChild(c)}}else if(a.media&&a.media.reddit_video){var n=m.getImage(a),o=['<iframe src="https://www.reddit.com/mediaembed/'+(a.media.id||a.id)+'" ','scrolling="no" frameborder="0" allowfullscreen></iframe>'].join("");c=e.create("div",{"class":"resp-media"}),c.style.paddingBottom="56.25%",this.progressive(c,{html:o,thumbnail_url:n}),i.appendChild(c)}else if(k(a)){var p=e.create("video"),q=a.preview.images[0].variants.mp4.source;c=e.create("div",{"class":"resp-media"}),g=(q.height/q.width*100).toPrecision(4),c.style.paddingBottom=g+"%",p.src=q.url.replace(/&amp;/g,"&"),p.autoplay=!0,p.loop=!0,p.preload="auto",p.muted=!0,c.appendChild(p),i.appendChild(c)}else if(j(a)){var r=a.url;if(/(i\.reddituploads\.com|imgur\.com)/.exec(a.url))try{r=a.preview.images[0].source.url}catch(s){}r&&(r=r.replace(/&amp;/g,"&")),b=e.create("div",{"class":"art-bd"});var t=e.create("a",{target:"_blank",href:this.track(this.url,"media")});b.appendChild(t),i.appendChild(b);var u=e.create("img",{"class":"art-bd-img"});h.elem(u,f.bind(function(){u.style.opacity=1,this.hub.notify("receiver.send","resize",{height:document.body.offsetHeight})},this)),e.addEvent(u,"error",function(){e.remove(b)}),setTimeout(function(){u.src=d.display.display(r)},1),t.appendChild(u)}else a.selftext_html&&(b=e.create("div",{"class":"reddit-self"}),i.appendChild(b),this.changed(b,a.author,a.edited)||(b.innerHTML=m.toHTML(a.selftext_html)))}},changed:function(a,b,c){if(this.data.options.created&&c){var d=parseInt(this.data.options.created,10);if(d&&c>d)return a.innerHTML=['<div class="reddit-changed">',"<p>",'<a target="_blank" href="'+this.url+'">'+b+"'s</a> comment has changed.","</p>",'<a href="'+this.url+'" target="_blank">View the current version on reddit.</a>',"</div>"].join(""),!0}return!1},comment:function(){if(!m.comments)return!1;var a;if(this.data.card[1].data.children.length>0&&(a=this.data.card[1].data.children[0].data),a){var b=e.one(".reddit-comment"),c=e.create("div",{"class":"reddit-comment-body"}),d=e.create("div",{"class":"reddit-comment-meta"}),g=e.create("div",{"class":"reddit-self"}),h=this.data.url;b.innerHTML="",b.appendChild(c),d.innerHTML=['<ul class="reddit-info secondary">','<li><a target="_blank" href="https://reddit.com/user/'+a.author+'">'+a.author+"</a></li>",'<li><a class="ago" data-time="'+1e3*a.created_utc+'" target="_blank" href="'+h+'"></a></li>','<li><a target="_blank" href="'+h+'">'+a.score+" points</a></li>","</ul>"].join(""),g.innerHTML=m.toHTML(a.body_html),c.appendChild(d),c.appendChild(g),k.add(d.querySelector(".ago")),f.each(e.all(".reddit-self a"),function(a){a.target="_blank"})}},card:function(a){if("error"===a.type)return this.type="error",this.name="error",this.trigger("rendered"),!1;var b=f.bind(this.track,this),c=a[0].data.children[0].data,d=this.data.url,g=e.one(".reddit-title");g.href=b(d,"title"),e.text(g,c.title),f.bool(this.data.options.preview)!==!1&&this.preview();var h=e.create("div",{"class":"reddit-footer"});h.innerHTML=['<a class="reddit-alien" target="_blank" href="'+b("https://reddit.com","logo")+'" data-label="post-logo"></a>','<div class="reddit-meta"></div>'].join(""),e.one(".reddit-post").appendChild(h);var i=['<ul class="reddit-info">','<li><a class="black" target="_blank" href="'+b("https://reddit.com/"+c.subreddit_name_prefixed,"subreddit")+'" data-label="post-subreddit">'+c.subreddit_name_prefixed+"</a></li>",'<li><a target="_blank" href="'+b("https://reddit.com/user/"+c.author,"user")+'"  data-label="post-author">'+c.author+"</a></li>",'<li><a class="ago" data-time="'+1e3*c.created_utc+'" target="_blank" href="'+b(d,"timestamp")+'" data-label="post-ago"></a></li>',"</ul>",'<ul class="reddit-info secondary">','<li><a target="_blank" href="'+b(d,"points")+'" data-label="post-score">'+c.score+" points</a></li>",'<li><a target="_blank" href="'+b(d,"comments")+'" data-label="post-comments">'+c.num_comments+" comments</a></li>","</ul>"].join(""),j=e.one(".reddit-meta");j.innerHTML=i,k.add(j.querySelector(".ago")),f.each(e.all(".reddit-self a"),function(a){a.target="_blank"}),f.each(e.all(".card.reddit a"),f.bind(function(a){var b=e.data(a,"label");b=b?b:"post",this.hub.notify("track.click",a,"reddit",b)},this)),this.backgroundClick(d)}}),d.RedditCommentCard=d.RichCard.extend({classNames:["rich","reddit-comment"],body:'<div class="bd"></div>',controllable:!1,before:function(a){h.script("https://www.redditstatic.com/comment-embed.js",a)},after:function(){var a=['<div class="reddit-embed" data-embed-media="www.redditmedia.com">','<a href="'+this.url+'"></a>',"</div>"].join("");e.one(".bd").innerHTML=a,window.rembeddit.init(),e.addEvent(window,"message",f.bind(function(a){var b;try{b=JSON.parse(a.data)}catch(c){return!1}(b.type="resize.embed")&&this.trigger("resize")},this))},media:function(){},options:{instant:function(a){this.data.options.instant=a},amp:function(a){this.data.options.amp=a}}}),d.MAP.push({re:/reddit\.com\/r\/.*\/comments\/\w+\/.*\/\w+/i,card:d.RedditCommentCard}),d.MAP.push({re:/reddit\.com\/(r|user)\/.*\/comments\/.*/i,card:d.RedditCard})},{"../common/amp.js":27,"../common/api.js":29,"../common/dom.js":34,"../common/ready.js":76,"../common/timeago.js":79,"../common/urlparse.js":82,"../common/utils.js":83,"./base.js":6,"./mixins.js":16}],20:[function(a,b,c){var d=a("./base.js");d.RichCard=d.VideoCard.extend({name:"rich",type:"rich",classNames:["rich"]})},{"./base.js":6}],21:[function(a,b,c){var d=a("../common/utils.js"),e=a("../common/dom.js"),f={};f.create=function(a,b,c){var f={"class":"embedly-card"};b.options.via&&(f["data-card-via"]=b.options.via),b.options.embed&&(f["data-card-embed"]=b.options.embed),"dark"===b.options.theme&&(f["data-card-theme"]=b.options.theme),(0===b.options.chrome||"0"===b.options.chrome)&&(f["data-card-chrome"]="0"),(0===b.options.controls||"0"===b.options.controls)&&(f["data-card-controls"]="0"),b.options.lang&&(f["data-card-lang"]=b.options.lang);var g,h,i;return("article"===a||"article-full"===a)&&!d.isEmptyObject(c)||b.options.seo?(c.image===!1?f["data-card-image"]="0":c.image&&(f["data-card-image"]=c.image),d.isNone(c.type)||(f["data-card-type"]=c.type),!d.isNone(c.description)&&c.description!==!1||!d.isNone(c.title)||b.options.seo?(h=c.title?c.title:b.title,i=c.description?c.description:b.description,g="<blockquote "+e.attrize(f)+">",g+='<h4><a href="'+b.url+'">'+h+"</a></h4>",c.description!==!1&&(g+="<p>"+i+"</p>"),g+="</blockquote>"):(c.description===!1&&(f["data-card-description"]="0"),f.href=b.url,g="<a "+e.attrize(f)+">",g+=b.title+"</a>")):(f.href=b.url,h=b.title?b.title:"Card",g="<a "+e.attrize(f)+">",g+=h+"</a>"),g},b.exports=f},{"../common/dom.js":34,"../common/utils.js":83}],22:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js");d.StocktwitsCard=d.ArticleCard.extend({name:"stocktwits",defaultTwitterVia:"stocktwits",classNames:["article","stocktwits"],borderColor:"#40576f",options:{chrome:null},attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",provider_name:".provider-name",provider_display:"provider_display",favicon_url:"favicon",card:"card"},body:['<div class="bd">','<div class="pair-bd">','<div class="st-avatar">',"</div>",'<div class="st-main">','<div class="st-top"></div>','<div class="st-mid"><p class="st-msg"></p></div>','<div class="art-bd">',"</div>",'<div class="st-foot">','<ul class="st-actions">','<li><a href="#" target="_blank" class="st-reply">Reply</a></li>','<li><a href="#" target="_blank" class="st-share">Share</a></li>','<li><a href="#" target="_blank" class="st-like">Like</a></li>',"</ul>","</div>","</div>","</div>","</div>"].join(""),edit:function(){},snippet:function(){var a=this.data.card.message,b=a.user,c={"class":"embedly-card"};this.data.via&&(c["data-card-via"]=this.data.via);var d=this.formatDate(a.created_at);e.isNone(d)&&(d=a.created_at);var g=["<blockquote "+f.attrize(c)+">","<p>"+this.formatMessage(a.body,!1)+"</p>","&mdash; "+b.name+" (@"+b.username+") ",'<a href="'+this.formatLink(b.username+"/message/"+a.id)+'">'+d+"</a>","</blockquote>"].join("");return g},formatLink:function(a){var b="http://stocktwits.com/"+a;return b+=b.indexOf("?")>-1?"&":"?",b+="utm_source=social&utm_campaign=embed"},formatDate:function(a){var b,c,d,f=[1,4,5,6,7,10,11];if(Date.parse)b=Date.parse(a);else{if(!(c=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(a)))return null;for(var g,h=0;g=f[h];++h)c[g]=+c[g]||0;c[2]=(+c[2]||1)-1,c[3]=+c[3]||1,"Z"!==c[8]&&void 0!==c[9]&&(d=60*c[10]+c[11],"+"===c[9]&&(d=0-d)),b=Date.UTC(c[1],c[2],c[3],c[4],c[5]+d,c[6],c[7])}var i=new Date(b);if(isNaN(i.getMonth()))return null;var j,k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=k[i.getMonth()]+". "+i.getDate()+" at ",m=i.getHours(),n="AM";return m>12?(n="PM",j=m-12):12===m?(j=12,n="PM"):j=0===m?12:m,e.each([j,i.getMinutes()],function(a){var b=a.toString();l+=(2===b.length?b:"0"+b)+":"}),l=l.substr(0,l.length-1)+" "+n},formatMessage:function(a,b){var c=e.bind(function(a,c){var d={href:this.formatLink(a)};return b&&(d["class"]="st-symbol",d.target="_blank"),["<a "+f.attrize(d)+">",c,"</a>"].join("")},this);return a=a.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(a){var c={href:a};return b&&(c.target="_blank"),"<a "+f.attrize(c)+">"+a+"</a>"}),a=a.replace(/[$]+[A-Za-z0-9-_]+/g,function(a){var b=a.replace("#","%24");return c("symbol/"+b.substr(1),b)}),a=a.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){return c(a.substr(1),a)})},card:function(a){var b=a.message,c=b.user,d=f.one(".st-avatar"),g=f.create("a",{href:this.formatLink(c.username),target:"_blank"}),h=f.create("img",{src:c.avatar_url,width:50,height:50});d.appendChild(g),g.appendChild(h);var i=f.one(".st-top"),j=f.create("a",{"class":"st-username",href:this.formatLink(c.username),target:"_blank"});f.text(j,c.username),i.appendChild(j);var k=this.formatDate(b.created_at);if(!e.isNone(k)){var l=f.create("a",{"class":"st-timestamp",href:this.formatLink(c.username+"/message/"+b.id),target:"_blank"});f.text(l,k),i.appendChild(l)}var m=f.one(".st-msg");m.innerHTML=this.formatMessage(b.body,!0);var n=f.one(".st-reply"),o=f.one(".st-share"),p=f.one(".st-like");if(n.href=this.formatLink("widgets/share?reply="+b.id),o.href=this.formatLink("widgets/share?body=%22%40"+c.username+"%20"+encodeURIComponent(b.body)+"%22%20&reply="+b.id),p.href=this.formatLink("widgets/share?like="+b.id),b.entities&&b.entities.chart&&b.entities.chart.large){var q=f.one(".art-bd"),r=f.create("a",{target:"_blank",href:this.formatLink(c.username+"/message/"+b.id)}),s=f.create("img",{"class":"art-bd-img",src:b.entities.chart.large});q.appendChild(r),r.appendChild(s)}if(b.entities&&b.entities.sentiment&&b.entities.sentiment.basic){var t=f.create("span",{"class":"st-sentiment"});f.text(t,b.entities.sentiment.basic),f.addClass(t,"st-"+b.entities.sentiment.basic.toLowerCase()),m.appendChild(t)}},after:function(){var a=f.one(".provider-name");a.href=this.formatLink("")}}),d.MAP.push({re:/stocktwits\.com\/[-\w]+\/message\/[-\w]+/i,card:d.StocktwitsCard,needs:["card.message.user"]})},{"../common/dom.js":34,"../common/utils.js":83,"./base.js":6}],23:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js");d.StorifyCard=d.RichCard.extend({before:function(a){if("rich"===this.data.media.type){var b=/\ src="https?:\/\/storify\.com\/([^\/]+)\/([^\/]+)\.js/.exec(this.data.media.html);e.isNone(b)||3!==b.length||(this.data.media.width=435,this.data.media.height=326,this.data.media.html=['<iframe src="https://storify.com/',b[1],"/",b[2],'/slideshow" width="435" height="326"></iframe>'].join(""))}a()}}),d.MAP.push({re:/storify\.com\/.*/i,card:d.StorifyCard})},{"../common/utils.js":83,"./base.js":6}],24:[function(a,b,c){var d=a("./base.js"),e=a("../common/dom.js"),f=a("../common/utils.js"),g=a("../common/providers/twitter.js"),h=a("../common/ready.js");d.Twitter=d.RichCard.extend({delayRendered:!0,before:function(a){h.script("https://platform.twitter.com/widgets.js",a)},media:function(){var a=e.one(".resp-media");e.removeClass(a,"resp-media"),e.addClass(document.body,"minimal");var b=g.id(this.data.url),c=e.create("div",{"class":"tweet"});a.appendChild(c),window.twttr.widgets.createTweet(b,c,{align:"center"}).then(f.bind(function(a){a||(this.type="error",this.name="error"),this.trigger("rendered")},this)),window.twttr.events.bind("click",f.bind(function(){this.hub.notify("track.event",this.name,"click","tweet")},this))}}),d.TwitterTimeline=d.Twitter.extend({classNames:["timeline-twitter"],media:function(){var a=e.one(".resp-media");e.removeClass(a,"resp-media"),e.addClass(document.body,"minimal");var b=e.create("div",{"class":"twitter-wrapper"});a.appendChild(b);var c=g.timeline(this.data.url);c.align="center",c.chrome="noheader",window.twttr.widgets.createTimeline("308670305247821824",b,c).then(f.bind(function(a){a||(this.type="error",this.name="error"),this.trigger("rendered")},this)),window.twttr.events.bind("click",f.bind(function(){this.hub.notify("track.event",this.name,"click","tweet")},this))}}),d.MAP.push({re:g.tweetRe,card:d.Twitter,needs:["provider_name"]}),d.MAP.push({re:g.timelineRe,card:d.TwitterTimeline,needs:["provider_name"]})},{"../common/dom.js":34,"../common/providers/twitter.js":75,"../common/ready.js":76,"../common/utils.js":83,"./base.js":6}],25:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("./mixins.js"),h=a("conf");d.VideoCard=d.Card.extend({name:"video",type:"video",classNames:["video"],attrMap:{favicon_colors:"favicon_colors",provider_url:"provider_url",provider_name:".provider-name",favicon_url:"favicon",media:"media",authors:"authors"},body:['<div class="bd">','<div class="pair-bd">','<div class="art-bd resp-media">',"</div>","</div>","</div>"].join(""),media:function(a){var b=f.one(".resp-media"),c=(a.height/a.width*100).toPrecision(4);if(b.style.paddingBottom=c+"%",h.EMB_DEBUG){var d=/src\=\"(.*?)\"/.exec(a.html);if(d){var e=d[1].split("?")[1],g=h.EMB_FRAME_SRC+"media.html?"+e;a.html=a.html.replace(d[1],g)}}b.innerHTML=a.html},after:function(){var a=f.one(".embedly-embed");g.player(this,a),f.addEvent(window,"message",e.bind(function(b){var c;try{c=JSON.parse(b.data)}catch(d){return!1}"iframe.resize"===c.context&&(a.parentElement.style.paddingBottom=(c.height/a.offsetWidth*100).toPrecision(4)+"%",this.trigger("resize"))},this))}}),d.NonResponsiveVideoCard=d.VideoCard.extend({media:function(a){var b=f.one(".resp-media");f.removeClass(b,"resp-media"),f.addClass(b,"static-media"),b.innerHTML=a.html}})},{"../common/dom.js":34,"../common/utils.js":83,"./base.js":6,"./mixins.js":16,conf:"conf"}],26:[function(a,b,c){var d=a("./utils.js"),e=a("./browser.js"),f=function(){return this instanceof f?void this.init():new f};f.prototype.init=function(){this.data={},this.dead=!1},f.prototype.event=function(a){return d.isObject(a)?(d.assert(a.event,"a.event no event"),d.assert(a.listener,"a.event no listener"),[a.event,a.listener].join(".")):a},f.prototype.add=function(a,b,c,d){c=c===!0?!0:!1,a=this.event(a);var e={func:b,one:c,ctx:d};return this.data.hasOwnProperty(a)?this.data[a].push(e):this.data[a]=[e],this},f.prototype.on=function(a,b,c){return this.add(a,b,!1,c)},f.prototype.off=function(a,b){if(!this.data.hasOwnProperty(a))return this;var c=d.reduce(this.data[a],function(a,c){return d.isNone(b)||c.func!==b?d.isNone(b)?a:(a.push(c),a):a},[]);return 0===c.length?delete this.data[a]:this.data[a]=c,this},f.prototype.one=function(a,b,c){return this.add(a,b,!0,c)},f.prototype.get=function(a,b,c,e){d.isFunction(b)&&(c=b,b={},c&&(e=c)),b||(b={}),d.assert(c),b.hasOwnProperty("listener")||(b.listener="l"+d.getUUID()),this.one({event:a,listener:b.listener},c,e),this.notify(a,b)},f.prototype.notify=function(){if(this.dead)return!1;var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return this;var b=this.event(a.splice(0,1)[0]);if(!this.data.hasOwnProperty(b))return this;var c,f=[],g=[];return d.each(this.data[b],function(a){g.push(a),a.one===!1&&f.push(a)}),0===f.length?delete this.data[b]:this.data[b]=f,d.each(g,function(f){try{c=d.isNone(f.ctx)?this:f.ctx,f.func.apply(c,a)}catch(g){e.console.error(b,a,g)}},this),this},f.prototype.listeners=function(a){return d.reduce(this.data,function(b,c,d){var e=d.split(".");return 2===e.length&&e[0]===a&&b.push(e[1]),b},[])},f.prototype.clear=function(){this.dead=!0,this.data={}},b.exports=f},{"./browser.js":30,"./utils.js":83}],27:[function(a,b,c){var d=a("./utils.js"),e=a("./urlparse.js"),f={};f.reddit=function(a,b,c){var f=d.extend(c||{},{amp:"1",url:a}),g="https://embed.redditmedia.com/widgets/card.html?"+e.createQuery(f);return["<amp-iframe width=600 height=300 ",'sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox" ','layout="responsive" resizable frameborder="0" ','src="'+g+'">',"<div overflow>Click To Expand</div>",b?'<amp-img layout="fill" src="'+b+'" placeholder></amp-img>':"","</amp-iframe>"].join("")},b.exports=f},{"./urlparse.js":82,"./utils.js":83}],28:[function(a,b,c){for(var d={},e={requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame,request:function(a){e.requestAnimationFrame.call(window,a)},cancel:function(a){e.cancelAnimationFrame.call(window,a)}},f=0,g=["ms","moz","webkit","o"],h=0;h<g.length&&!e.requestAnimationFrame;++h)e.requestAnimationFrame=window[g[h]+"RequestAnimationFrame"],e.cancelAnimationFrame=window[g[h]+"CancelAnimationFrame"]||window[g[h]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-f)),d=window.setTimeout(function(){a(b+c)},c);return f=b+c,d}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(a){clearTimeout(a)}),d.animate=function(a,b,c,d){var f=a,g=+new Date+f,h=!1,i=0;d=d?d:function(){};var j=function(){if(!h){var a=+new Date,k=g-a;if(10>k){if(b(1),!c)return void d();g=+new Date+f}else{var l=1-k/f;b(l)}i=e.request(j)}};return j(),function(){h=!0,e.cancel(i)}},b.exports=d},{}],29:[function(a,b,c){var d=a("./utils.js"),e=a("./browser.js"),f=a("conf"),g={};g.random=function(a){return Math.floor(Math.random()*a)},g.safeCreateQuery=function(a){var b=d.map(a,function(a,b){return b+"="+("urls"===b?a:encodeURIComponent(a))});return b.sort(),b.join("&")},g.Keeper=function(a,b){this.init(a,b)},g.Keeper.prototype={init:function(a,b){this.urls=a,this.count=0,this.results={},this.callback=b},each:function(a){if(this.results[a.original_url]=a,this.count++,this.count===this.urls.length){var b=d.map(this.urls,function(a){return this.results[a]},this);this.callback(b)}return this}},g.ajax=function(a,b,c,e){var f=new XMLHttpRequest,g=e?"POST":"GET";if("withCredentials"in f)f.open(g,a,!0),c&&d.map(c,function(a,b){f.setRequestHeader(b,a)}),f.setRequestHeader("Accept","application/json"),f.onreadystatechange=function(){4===f.readyState&&(200===f.status?b&&b(JSON.parse(f.responseText)):b&&b({type:"error"}))};else{if("undefined"==typeof XDomainRequest)return b({type:"error"}),!1;f=new XDomainRequest,f.open(g,a),f.onload=function(){b&&b(JSON.parse(f.responseText))},f.onerror=function(){b({type:"error"})},f.onprogress=function(){}}f.send(e?e:null)},g.API=function(a){this.init(a)},g.API.prototype.init=function(a){d.isString(a)?this.key=a:d.isNone(a)||(this.key=a.key),this.key=this.key?this.key:f.EMB_API_KEY,this.protocol="http:"===window.location.protocol?"http:":"https:"},g.API.prototype._buildUrl=function(a,b){if(d.isNone(this.key))return null;var c=this.protocol+"//api-cdn.embed.ly/"+a;return b=b?b:{},b.key||(b.key=this.key),c+"?"+g.safeCreateQuery(b)},g.API.prototype._data=function(a,b,c,f){if(e.console.log(a,b,c,f),d.isNone(f)&&d.isFunction(c)&&(f=c,c={}),d.isNone(f))return!1;if(d.isString(b)){c.url=b;var h=this._buildUrl(a,c);return g.ajax(h,function(a){a.url=b,f(a)}),!0}if(d.isArray(b)){if(0===b.length)return!1;var i=new g.Keeper(b,f),j=d.batch(b,10),k=function(a,b){return function(c){d.each(b,function(b,d){var e=c[d];e.original_url=b,a.each(e)})}};return d.each(j,function(b){c.urls=d.map(b,function(a){return encodeURIComponent(a)}).join(",");var e=this._buildUrl(a,c);g.ajax(e,k(i,b))},this),!0}return f({type:"error"}),!1},g.API.prototype.oembed=function(a,b,c){return this._data("1/oembed",a,b,c)},g.API.prototype.extract=function(a,b,c){return this._data("1/extract",a,b,c)},g.API.prototype.card=function(a,b,c){return this._data("1/card-details",a,b,c)},g.API.prototype.event=function(a,b){var c="api-"+g.random(10)+".embed.ly",d=this.protocol+"//"+c+"/1/e",e=d+"?"+g.safeCreateQuery(a);g.ajax(e,b)},g.Display=function(){},g.Display.prototype._buildUrl=function(a,b,c){var e={key:f.EMB_API_KEY,url:b},h=d.extend(e,d.isNone(c)?{}:c),i="://i-cdn.embed.ly/1/display"+("display"===a?"":"/"+a);return(f.EMB_HTTPS?"https":"http")+i+"?"+g.safeCreateQuery(h)},g.Display.prototype.display=function(a,b){return this._buildUrl("display",a,b)},g.Display.prototype.crop=function(a,b){return this._buildUrl("crop",a,b)},g.Display.prototype.resize=function(a,b){return this._buildUrl("resize",a,b)},g.api=function(a){return new g.API(a)},g.display=function(){return new g.Display},b.exports=g},{"./browser.js":30,"./utils.js":83,conf:"conf"}],30:[function(a,b,c){var d=a("./utils.js"),e=a("./dom.js"),f=a("./urlparse.js"),g=a("conf"),h={};h.supports={_test:function(a){var b=["Webkit","Moz","O","ms","Khtml"],c=document.createElement("div"),e=a.charAt(0).toUpperCase()+a.substr(1),f=[a];d.each(b,function(a){f.push(a+e)});for(var g=0;g<f.length;g++)if(""===c.style[f[g]])return!0;return!1},postMessage:function(){return!!window.postMessage},boxShadow:function(){return h.supports._test("boxShadow")},borderRadius:function(){return h.supports._test("borderRadius")},touch:function(){return!!("ontouchstart"in window)},svg:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},mediaQuery:function(){return!("undefined"==typeof window.matchMedia&&"undefined"==typeof window.msMatchMedia)},rgba:function(){var a=document.createElement("div"),b=a.style.color;try{a.style.color="rgba(1,5,13,0.44)"}catch(c){}return a.style.color!==b},cors:function(){if("undefined"==typeof XMLHttpRequest)return!1;var a=new XMLHttpRequest;return"withCredentials"in a?!0:"undefined"!=typeof XDomainRequest?!0:!1},flash:function(){if("undefined"!=typeof navigator.plugins&&0!==navigator.plugins.length)return!!navigator.plugins["Shockwave Flash"];try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){return!1}},canvas:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}},h.detect=function(){var a=function(a,b){b?e.addClass(document.body,a):e.addClass(document.body,"no-"+a)};a("touch",h.supports.touch()),a("boxshadow",h.supports.boxShadow()),a("borderradius",h.supports.borderRadius()),a("rgba",h.supports.rgba()),a("mediaquery",h.supports.mediaQuery())},h.console={_log:function(a,b){if((g.EMB_DEBUG||window.EMB_DEBUG)&&!d.isNone(window.console)&&window.console&&window.console[a])if(window.console[a].apply)window.console[a].apply(window.console,b);else{var c=Array.prototype.join.call(b,", ");window.console[a](c)}},log:function(){this._log("log",arguments)},error:function(){this._log("error",arguments)}},h.open=function(a,b,c,e,f,g){if(d.isNone(f)||d.isNone(g)){var i=h.window.center(c,e);f=i.top,g=i.left}var j=window.open(a,b,"scrollbars=no, resizable=1, width="+c+", height="+e+", top="+f+", left="+g);window.focus&&j.focus()},h.cookie={set:function(a,b,c,d){var e="";if(c){var f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),e="; expires="+f.toGMTString()}document.cookie=a+"="+b+e+"; path=/"+(d?"; secure":"")},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},del:function(a){h.cookie.set(a,"",-1)}},h.window={innerHeight:function(){return d.isNone(window.innerHeight)?document.documentElement.clientHeight:window.innerHeight},innerWidth:function(){return d.isNone(window.innerWidth)?document.documentElement.clientWidth:window.innerWidth},scrollY:function(){return d.isNone(window.pageYOffset)?(document.documentElement||document.body.parentNode||document.body).scrollTop:window.pageYOffset},center:function(a,b){var c=void 0!==window.screenLeft?window.screenLeft:screen.left,d=void 0!==window.screenTop?window.screenTop:screen.top,e=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,f=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,g=e/2-a/2+c,h=f/2-b/2+d;return{left:g,top:h}}},h.location={hash:function(){var a=window.location.href.split("#");return 2===a.length?a[1]:""},params:function(){return d.extend({},f.parseQuery(document.location.search),f.parseQuery(h.location.hash()))}},h.mobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},h.isIE=function(){return/msie|trident/i.test(navigator.userAgent)},h.isFirefox=function(){return/firefox/i.test(navigator.userAgent);
},h.isPhantom=function(){return/phantomjs/i.test(navigator.userAgent)},h.isSafari=function(){return/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)},h.language=function(){return window.navigator.userLanguage||window.navigator.language},h.animateScroll=function(a,b){var c,d,f=h.window.scrollY(),g=a-f,i=(new Date).getTime(),j=!1;b=b?b:500;var k=Math.round(g/b*10),l=function(b){return b>a};0>k&&(l=function(b){return a>b});var m=function(){clearInterval(c),h.console.log("duration",(new Date).getTime()-i),e.detachEvent("scroll",d)};c=setInterval(function(){return f+=k,l(f)?(m(),!1):(window.scrollTo(0,f),void(j=!0))},10),d=function(){j&&f!==h.window.scrollY()&&m()},e.addEvent("scroll",d)},h.isSandboxIframe=function(){if(window.parent===window)return!1;try{var a=window.frameElement;return!a.src}catch(b){return!1}return!1},b.exports=h},{"./dom.js":34,"./urlparse.js":82,"./utils.js":83,conf:"conf"}],31:[function(a,b,c){var d=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,f=function(){};f.extend=function(a){function b(){!d&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;d=!0;var f=new this;d=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof c[g]&&e.test(a[g])?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(g,a[g]):a[g];return b.prototype=f,b.prototype.constructor=b,b.extend=arguments.callee,b},b.exports=f},{}],32:[function(a,b,c){var d={obj:function(a,b,c,d){if(void 0===b&&void 0===c)return a;var e={};return e[d[0]]=a,e[d[1]]=b,e[d[2]]=c,e},rgbToHsl:function(a,b,c){var d=this.obj(a,b,c,"rgb");a=d.r/255,b=d.g/255,c=d.b/255;var e,f,g=Math.max(a,b,c),h=Math.min(a,b,c),i=(g+h)/2;if(g===h)e=f=0;else{var j=g-h;switch(f=i>.5?j/(2-g-h):j/(g+h),g){case a:e=(b-c)/j+(c>b?6:0);break;case b:e=(c-a)/j+2;break;case c:e=(a-b)/j+4}e/=6}return this.obj(e,f,i,"hsl")},hslToRgb:function(a,b,c){var d=this.obj(a,b,c,"hsl");a=d.h,b=d.s,c=d.l;var e,f,g;if(0===b)e=f=g=c;else{var h=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},i=.5>c?c*(1+b):c+b-c*b,j=2*c-i;e=h(j,i,a+1/3),f=h(j,i,a),g=h(j,i,a-1/3)}return this.obj(Math.round(255*e),Math.round(255*f),Math.round(255*g),"rgb")},rgbToHex:function(a,b,c){var d=this.obj(a,b,c,"rgb");return"#"+((1<<24)+(d.r<<16)+(d.g<<8)+d.b).toString(16).slice(1)},hexToRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},segment:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(this.rgbToHsl(d[0],d[1],d[2]))}b.sort(function(a,b){return a.l-b.l});var e={};e.lightest=this.hslToRgb(b[b.length-1]),e.darkest=this.hslToRgb(b[0]);for(var f=!0,g=0;g<b.length;g++){var h=b[g];if(0!==h.s||0!==h.h){f=!1;break}}return f?e.colorful=e.darkest:(b.sort(function(a,b){return a.l+2*a.s+a.h/5-(b.l+2*b.s+b.h/5)}),e.colorful=this.hslToRgb(b[b.length-1])),e}};b.exports=d},{}],33:[function(a,b,c){var d=a("./iframes/comms.js").one,e=a("./utils.js"),f={started:!1,instance:null};f.EVENTS=["xcomm.options.access","xcomm.media.recommend","xcomm.card.recommend","xcomm.user.set","xcomm.user.get","xcomm.user.remove","xcomm.log.event","xcomm.page.progress"],f.clear=function(){f.instance&&(f.instance.remove(),f.instance=null),f.started=!1},f.connect=function(a,b){if(!a||f.started)return!1;f.started=!0;var c=d(a,b);return f.instance=c,e.each(f.EVENTS,function(b){c.on(b,function(c){var d=b;c.listener&&(d={event:b,listener:c.listener}),a.notify(d,c)}),a.on(b,function(a){c.send(b,a)})}),c.on("xcomm.ready",function(b){a.notify("xcomm.ready",b)}),c},b.exports=f},{"./iframes/comms.js":42,"./utils.js":83}],34:[function(a,b,c){var d=a("./utils.js"),e=a("conf"),f={};f.toArray=function(a){return d.map(a,function(a){return a})},f.all=function(a){var b=[];return document.querySelectorAll?f.toArray(document.querySelectorAll(a)):b},f.one=function(a,b){var c=f.all(a,b);return 0===c.length?null:c[0]},f.create=function(a,b,c,e){if(!a||!d.isString(a))return null;d.isString(b)&&d.isNone(c)&&(c=b,b={});var g;return g=e?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a),d.each(b,function(a,b){g.setAttribute(b,a)}),c&&f.text(g,c),g},f.set=function(a,b,c){if(!a||!d.isString(a))return null;d.isString(b)&&d.isNone(c)&&(c=b,b={});var e=f.one(a);return e?(d.each(b,function(a,b){e.setAttribute(b,a)}),d.isNone(c)||f.text(e,c),e):null},f.replace=function(a,b){d.assert(d.isElement(a),"replace requires an element to be replaced"),d.assert(d.isElement(b),"replace requires an element to replace with."),a.parentNode.replaceChild(b,a)},f.remove=function(a){return d.isElement(a)&&d.isElement(a.parentNode)?void a.parentNode.removeChild(a):!1},f.hide=function(a){return d.isString(a)&&(a=f.one(a)),d.isElement(a)&&(a.style.display="none"),a},f.show=function(a,b){return d.isString(a)&&(a=f.one(a)),d.isElement(a)&&(a.style.display=b?"inline-block":"block"),a},f.svg=function(a,b,c){return f.create(a,b,c,"http://www.w3.org/2000/svg")},f.children=function(a,b){return d.isElement(a)?d.reduce(a.childNodes,function(a,c){if(d.isElement(c)){if(!d.isNone(b))if(c.namespaceURI&&"http://www.w3.org/2000/svg"===c.namespaceURI){if(c.nodeName!==b)return a}else if(b.toUpperCase()!==c.nodeName)return a;a.push(c)}return a},[]):[]},f.child=function(a,b){var c=f.children(a,b);return 0!==c.length?c[0]:null},f.text=function(a,b){if(d.isString(a)&&(a=f.one(a)),!a||!d.isElement(a))return null;if(d.isNone(b))return a.innerText||a.textContent;var c=void 0===a.textContent?"innerText":"textContent";a[c]=b},f.hasClass=function(a,b){if(d.isString(a)&&(a=f.one(a)),!d.isElement(a)||!d.isString(b)||!b)return!1;var c=a.getAttribute("class");return d.isNone(c)?!1:(" "+c+" ").indexOf(" "+b+" ")>-1?!0:!1},f.addClass=function(a,b){if(d.isString(a)&&(a=f.one(a)),!d.isElement(a)||!d.isString(b)||!b)return!1;if(f.hasClass(a,b))return!1;var c=a.getAttribute("class");if(d.isNone(c))return a.setAttribute("class",b),!0;var e=c.split(" "),g=[];return d.map(e,function(a){var b=d.trim(a);""!==b&&g.push(b)}),g.push(b),a.setAttribute("class",g.join(" ")),!0},f.removeClass=function(a,b){if(d.isString(a)&&(a=f.one(a)),!d.isElement(a)||!d.isString(b)||!b)return!1;var c=a.getAttribute("class");if(d.isNone(c))return!1;var e=!1,g=d.reduce(c.split(" "),function(a,c){var f=d.trim(c);return f?f===b?(e=!0,a):(a.push(f),a):a},[]);return a.setAttribute("class",g.join(" ")),e},f.data=function(a,b,c){d.assert(a&&d.isElement(a),"dom.data needs an element."),d.assert(b&&d.isString(b),"dom.data needs an attr.");var e=d.camelCase(b,1);return d.isNone(c)?d.isNone(a.dataset)?a.getAttribute("data-"+b):d.isNone(a.dataset[e])?null:a.dataset[e]:void(d.isNone(a.dataset)?a.setAttribute("data-"+b,c):a.dataset[e]=c)},f.attrize=function(a){return a&&d.isObject(a)?d.map(a,function(a,b){return b+'="'+a+'"'}).sort().join(" "):""},f.event=function(a){var b=d.extend({},a||window.event);return b.target||(b.target=b.srcElement||document),3===b.target.nodeType&&(b.target=b.target.parentNode),!a.metaKey&&a.ctrlKey&&(b.metaKey=b.ctrlKey),b.stop=function(){a.preventDefault?a.preventDefault():a.returnValue=!1},b.pageX||b.pageY||!b.clientX&&!b.clientY||(b.pageX=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b.pageY=b.clientY+document.body.scrollTop+document.documentElement.scrollTop),b},f.addEvent=function(a,b,c){d.isNone(a)||(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},f.detachEvent=function(a,b,c){d.isNone(a)||(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null)},f.trigger=function(a,b){d.assert(d.contains(["click"],b),"Not a valid event");var c;a.dispatchEvent?(c=document.createEvent("MouseEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c,!0)):(c=document.createEventObject(),a.fireEvent("on"+b,c))},f.rect=function(a){try{return a.getBoundingClientRect()}catch(b){}return!1},f.onResize=function(a){var b;f.addEvent(window,"resize",function(){clearTimeout(b),b=setTimeout(a,100)})},e.EMB_DEBUG===!0&&(window.dom=f),b.exports=f},{"./utils.js":83,conf:"conf"}],35:[function(a,b,c){var d=a("./utils.js"),e=a("./colors.js"),f={};f.hex=function(a){var b=d.reduce(a,function(a,b){var c=b.color[0]+b.color[1]+b.color[2];return c>=0&&550>c&&a.push(b.color),a},[]);if(!b.length)return null;var c=e.segment(b);return e.rgbToHex(c.colorful)},b.exports=f},{"./colors.js":32,"./utils.js":83}],36:[function(a,b,c){var d=a("./ready.js"),e=a("conf"),f={};f.trackingIds={},f.add=function(a){if(!f.trackingIds.hasOwnProperty(a))return!1;if(e.EMB_DEBUG)return!1;var b=f.trackingIds[a];window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=1*new Date,d.script("https://www.google-analytics.com/analytics.js",function(){},this,{async:1});var c={cookieDomain:"embedly.com"};"media"===a&&(c.sampleRate=30),window.ga("create",b,c),window.ga("send","pageview")},f.addReddit=function(){var a="UA-12131688-13";window.GoogleAnalyticsObject="redditGa",window.redditGa=window.redditGa||function(){(window.redditGa.q=window.redditGa.q||[]).push(arguments)},window.redditGa.l=1*new Date,d.script("https://www.google-analytics.com/analytics.js",function(){},this,{async:1}),window.redditGa("create",a)},b.exports=f},{"./ready.js":76,conf:"conf"}],37:[function(a,b,c){var d=a("./utils.js"),e=a("./browser.js"),f=function(){this.init()};f.prototype.init=function(){var a=e.language(),b=e.location.params();b.lang?this.configure(b.lang):d.isNone(a)?this.lang="en":this.configure(a.substr(0,5))},f.prototype.translations={cs:a("./lang/cs.js"),da:a("./lang/da.js"),de:a("./lang/de.js"),el:a("./lang/el.js"),en:a("./lang/en.js"),es:a("./lang/es.js"),fi:a("./lang/fi.js"),fr:a("./lang/fr.js"),hr:a("./lang/hr.js"),hu:a("./lang/hu.js"),id:a("./lang/id.js"),is:a("./lang/is-IS.js"),it:a("./lang/it.js"),ja:a("./lang/ja.js"),ko:a("./lang/ko.js"),ms:a("./lang/ms.js"),nl:a("./lang/nl.js"),no:a("./lang/no.js"),pl:a("./lang/pl.js"),pt:a("./lang/pt-PT.js"),"pt-br":a("./lang/pt-BR.js"),ru:a("./lang/ru.js"),sv:a("./lang/sv.js"),tr:a("./lang/tr.js"),zh:a("./lang/zh-CN.js"),"zh-tr":a("./lang/zh-TW.js")},f.prototype.configure=function(a){var b=[];5===a&&b.push(a.toLowerCase()),b.push(a.split("-")[0].toLowerCase());var c,d;for(c=0;c<b.length&&(d=b[c],!this.translations.hasOwnProperty(d));c++);return d?(this.lang=d,!0):(e.console.error("Failed to get i18n for lang "+a),!1)},f.prototype.has=function(a){var b=[];5===this.lang.length&&b.push(this.lang.toLowerCase()),b.push(this.lang.split("-")[0].toLowerCase());var c,e;for(c=0;c<b.length;c++)if(e=d.get(this.translations,b[c]+"."+a))return!0;return!1},f.prototype.get=function(a,b){var c=[];a&&(5===a.length&&c.push(a.toLowerCase()),c.push(a.split("-")[0].toLowerCase())),c.push("en");var f,g;for(f=0;f<c.length;f++)if(g=d.get(this.translations,c[f]+"."+b))return g;return e.console.error("Failed to get i18n for lang "+a+": "+b),""},f.prototype._=function(){var a=Array.prototype.slice.call(arguments,0);if(0===a.length)return"";var b=a[0];a=a.slice(1);var c=this.get(this.lang,b);return d.each(a,function(a){c=c.replace("%s",a)}),c},b.exports=new f},{"./browser.js":30,"./lang/cs.js":46,"./lang/da.js":47,"./lang/de.js":48,"./lang/el.js":49,"./lang/en.js":50,"./lang/es.js":51,"./lang/fi.js":52,"./lang/fr.js":53,"./lang/hr.js":54,"./lang/hu.js":55,"./lang/id.js":56,"./lang/is-IS.js":57,"./lang/it.js":58,"./lang/ja.js":59,"./lang/ko.js":60,"./lang/ms.js":61,"./lang/nl.js":62,"./lang/no.js":63,"./lang/pl.js":64,"./lang/pt-BR.js":65,"./lang/pt-PT.js":66,"./lang/ru.js":67,"./lang/sv.js":68,"./lang/tr.js":69,"./lang/zh-CN.js":70,"./lang/zh-TW.js":71,"./utils.js":83}],38:[function(a,b,c){b.exports={cards:a("./cards.js"),button:a("./button.js"),modal:a("./modal.js"),slideshow:a("./slideshow.js"),comms:a("./comms.js"),connect:a("./base.js").connect}},{"./base.js":39,"./button.js":40,"./cards.js":41,"./comms.js":42,"./modal.js":43,"./slideshow.js":44}],39:[function(a,b,c){var d=a("../utils.js"),e=a("../dom.js"),f=a("../a.js"),g=a("../browser.js"),h=a("../urlparse.js"),i=a("conf"),j={};j.connect=function(a,b,c){if(!b||!d.isElement(b))return!1;var i={sid:a,elem:b},j=h.getOrigin(b.src?b.src:document.location.toString()),k=new f,l=[],m=!1,n=b.src;i.on=function(a,b,c){k.on(a,b,c)},i.one=function(a,b,c){k.one(a,b,c)},i.off=function(a,b){k.off(a,b)},i.send=function(a,b,c){if(d.isNone(b)&&(b={}),d.isString(b)&&(b={msg:b}),b.method=a,m===!1&&!c)return g.console.log("frame.queue",b),l.push(b),!1;if(i.sid&&(b.sid=i.sid),g.console.log("frame.send",b),i.__tunnel)i.__tunnel.send(b);else if(i.elem.contentWindow&&i.elem.contentWindow.postMessage){var e=JSON.stringify(b);i.elem.contentWindow.postMessage(e,null===j?"*":j)}},i.ready=function(){m||(g.console.log("frame.ready",i.name),m=!0,d.each(l,function(a){i.send(a.method,a)}))},i.resize=function(a){a.width&&i.elem.setAttribute("width",a.width),a.height&&i.elem.setAttribute("height",a.height)},i.remove=function(){e.remove(i.elem),i.__hub.clear(),i.__tunnel&&i.__tunnel.clear(),i._remove&&i._remove()},k.on("message",function(a){"resize"===a.method&&i.resize&&i.resize(a),a.event&&a.listener?k.notify({event:a.event,listener:a.listener},a):a.method&&k.notify(a.method,a)});var o=function(a,b){if(a.origin===j||null===j||"about:"===a.origin){if(!b.src&&!b.sid&&!b.listener)return!1;if(i.sid&&b.sid!==i.sid)return!1;if(b.src&&b.src!==n)return!1;g.console.log("frame.message",b),k.notify("message",b)}};return c.on("window.message",o),i._remove=function(){c.off("window.message",o)},i.__hub=k,i},j.rendering=function(a){return"1"===e.data(a,"rendering")?!0:(e.data(a,"rendering","1"),!1)},j.create=function(a,b,c,f,g){var h=d.getUUID();c.sid=h;var k=d.extend({},f);c.sandbox===!1&&(k.src=i.EMB_FRAME_SRC+a+".html#sid="+h),c.url&&(k.id="emb_"+d.hash(c.url)),k["class"]="embedly-"+a;var l=e.create("iframe",k);d.each(g,function(a,b){l.style[b]=a});var m=j.connect(h,l,b);return m.__appended=function(){},c.sandbox===!1?m:(m.__appended=function(){var b=l.contentWindow.document,c=decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E");b.open(),b.write(c),b.close();var d=b.getElementsByTagName("head")[0],e=i.EMB_ORIGIN_BASE+"js/all."+i.EMB_ASSET_VERSION+".js",f=i.EMB_ORIGIN_BASE+"css/all."+i.EMB_ASSET_VERSION+".css",g=b.createElement("script");g.type="text/javascript",g.src=e;var h=b.createElement("link");h.type="text/css",h.rel="stylesheet",h.href=f,m.__hub.notify(a+".load",l,b),d.appendChild(h),b.body.appendChild(g)},m)},b.exports=j},{"../a.js":26,"../browser.js":30,"../dom.js":34,"../urlparse.js":82,"../utils.js":83,conf:"conf"}],40:[function(a,b,c){var d=a("../utils.js"),e=a("../browser.js"),f=a("../dom.js"),g=a("./base.js"),h=a("../tunnels.js"),i={name:"button",attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",height:"20",width:"80"},styles:{border:"none"}};i.one=function(a,b){if(!d.isElement(a))return null;if(g.rendering(a))return null;var c=f.data(a,"url");d.isNone(c)&&(c=document.location.toString());var j,k={url:c};d.each(["theme","target","lang"],function(b){j=f.data(a,b),d.isNone(j)||(k[b]=j)});var l=e.window.center(635,500);k.left=l.left,k.top=l.top;var m=g.create("button",b,k,i.attrs,i.styles);return m.one("button.load",function(a){var b=function(a,b){return function(c){a.__tunnel=new h.Tunnel(a.__hub),c.create(b,a.__tunnel)}},c=b(m,k);a.contentWindow.buttons?c(a.contentWindow.buttons):a.contentWindow.onButtonsReady=c}),f.replace(a,m.elem),m.__appended(),m.on("button.click",function(){e.window.innerWidth()<=768||e.mobile()?window.location="http://embed.ly/code?url="+encodeURIComponent(k.url):b.notify("modal.create",k)}),m.on("button.ready",function(){m.ready()}),m},b.exports=i},{"../browser.js":30,"../dom.js":34,"../tunnels.js":81,"../utils.js":83,"./base.js":39}],41:[function(a,b,c){var d=a("../api.js"),e=a("../utils.js"),f=a("../dom.js"),g=a("../urlparse.js"),h=a("../browser.js"),i=a("../keeper.js"),j=a("./base.js"),k=a("../share.js"),l=a("../tunnels.js"),m={attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",allowfullscreen:"true"},styles:{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},extractless:/https:\/\/(\w+\.pinterest\.com\/.*)|(\w+\.reddit\.com\/r\/.*\/comments\/.*)/,sandboxless:[{re:/https?:\/\/\w+\.facebook\.com\/.*/},{re:/https?:\/\/twitter\.com\/.*/,test:function(){return h.isFirefox()}}]};m.isPercent=function(a){return/\%/i.test(a)},m.cleanWidth=function(a){a=e.trim(a);var b=/(\d+)px/i.exec(a);return b&&(a=b[1]),a},m.sandbox=function(a){var b,c;for(b=0;b<m.sandboxless.length;b++)if(c=m.sandboxless[b],c.re.test(a))return e.isFunction(c.test)?!c.test(a):!1;return!0},m.css=function(){if("undefined"!=typeof m._css)return m._css;var a=f.one("style.embedly-css");if(e.isElement(a)){var b=f.text(a);e.spaceless(b)&&(m._css="style:"+e.trim(b))}else{var c=f.one("link.embedly-css");e.isElement(c)&&c.href&&(m._css="link:"+e.trim(c.href))}return m._css||(m._css=null),m._css},m.options=function(a){if(!e.isElement(a)||!e.isElement(a.parentNode))return null;var b={sandbox:!0};e.each(["type","via","chrome","image","description","key","align","embed","controls","analytics","lang","width","referrer","theme","recommend","branding","seo","preview","comment","created"],function(c){var d=f.data(a,"card-"+c);e.isNone(d)||(b[c]=d)});var c=m.css();if(c&&(b.css=c),e.each(["recommend-1","recommend-2","recommend-3"],function(c){var d=f.data(a,"card-"+c);e.isNone(d)||(b.hasOwnProperty("recommendations")?b.recommendations.push(d):b.recommendations=[d])}),"BLOCKQUOTE"===a.nodeName){var d,h,i=f.child(a,"h4"),j=f.child(a,"p");if(e.isNone(i)){if("reddit-card"===a.className){if(h=f.toArray(a.querySelectorAll("a")),h.length>0){if(d=h[0],!d||!d.href)return!1;b.url=d.href}}else if(j){if(h=a.getElementsByTagName("a"),0===h.length)return!1;d=h[h.length-1],b.url=d.getAttribute("href")}}else d=f.child(i,"a"),b.url=d.getAttribute("href"),b.title=f.text(d),e.isNone(j)?b.description="0":b.description=f.text(j)}else"A"===a.nodeName&&(b.url=a.getAttribute("href"));e.each(["url","image","embed"],function(a){b.hasOwnProperty(a)&&(b[a]=g.sanitize(b[a]))});var k,l,n;if(e.each(document.getElementsByTagName("meta"),function(a){n=[a.getAttribute("name"),a.getAttribute("property")],e.contains(n,"twitter:site")?l=a.getAttribute("content"):e.contains(n,"twitter:creator")&&(k=a.getAttribute("content"))}),k?b.twitter_via=k:l&&(b.twitter_via=l),!b.url)return null;var o=g.parse(b.url);return o.valid()?(b.url=o.url,b.sandbox=m.sandbox(b.url),b.referrer||(b.referrer=document.URL),b.width&&(b.width=m.cleanWidth(b.width)),/thescore\.com/.test(b.referrer)&&(b.key="900b122ee8ee43f79b2240c831f24429"),b):null};var n=function(a,b,c,d){this.init(a,b,c,d)};n.prototype.init=function(a,b,c,d){if(this.elem=b,this.options=c,!c.url)return this.error=!0,this.frame=null,!1;this.error=!1,this.frame=m.build(b,c,a),this._done=d;var g=new i,h=g.callback();this.frame.one("card.load",function(a,b){h({iframe:a,doc:b})}),this._extract=g.callback(),this.extract=e.bind(function(a){return this.extracted?!1:(this.extracted=!0,void this._extract(a))},this),c.embed&&(this.media=g.callback());var j=b.parentNode;j&&j.offsetWidth&&(j.offsetWidth>600?this.frame.elem.style.width="600px":this.frame.elem.style.width=j.offsetWidth+"px");var k=f.create("div",{"class":"embedly-card"}),l=f.create("div",{"class":"embedly-card-hug"});k.appendChild(l),l.appendChild(this.frame.elem),j.insertBefore(k,b),this.frame.__appended(),g.wait(this.done,this)},n.prototype.done=function(a){var b=a[0].iframe,c=a[0].doc,d=a[1],e={};if(3===a.length&&(e=a[2].media),!this.frame.elem.parentNode)return!1;if(this.options.sandbox===!1)this.frame.ready(),this.frame.send("card.create",{options:this.options,extract:d,media:e});else{var f=function(a,b,d,f){return function(a){f.__tunnel=new l.Tunnel(f.__hub),a.create(c.body,{options:b,extract:d,media:e,tunnel:f.__tunnel})}},g=f(b,this.options,d,this.frame);b.contentWindow.cards?g(b.contentWindow.cards):b.contentWindow.onCardsReady=g}this.frame.options=this.options,this.frame.extract=d,this._done(this.frame)},m.fetch=function(a,b,c,f){c=e.extend({},c?c:{}),c.protocol=window.location.protocol,c=e.map(b,function(a){return c.override===!0?e.extend({},m.options(a),c):e.extend({},c,m.options(a))});var g=new i,h=[];c=e.reduce(c,function(c,d,e){var f=new n(a,b[e],d,g.callback());return m.extractless.test(d.url)?f.extract({}):f.error||c.push(d),h.push(f),c},[]);var j=e.reduce(c,function(a,b){return a.push(b.url),b.embed&&a.push(b.embed),a},[]);if(!j.length)return e.isFunction(f)&&f(e.map(h,function(a){return a.frame})),e.map(h,function(a){return a.frame});var k={card:1,v:"MTcyMDEw",youtube_showinfo:0,"native":!0},l=e.reduce(c,function(a,b){return b.key&&!a?b.key:a},null);l&&(k.key=l);var o=window.location.protocol;return c.protocol&&(o=c.protocol),o=o.split(":")[0],e.contains(["http","https"],o)||(o="https"),k.scheme=o,d.api().card(j,k,function(a){e.each(a,function(a){e.each(h,function(b){b.options.url===a.original_url?b.extract(a):b.options.embed===a.original_url&&b.media(a)})})}),g.wait(function(a){f(a)}),e.map(h,function(a){return a.frame})},m.build=function(a,b,c){var d=j.create("card",c,b,m.attrs,m.styles);return h.isFirefox()&&(d.elem.style.visibility="visible",d.elem.style.height="1px"),d.on("card.repeat",function(a){var b={url:a.url,via:document.location.toString()};e.each(["image","embed","title","description","lang"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),c.notify("modal.create",b)}),d.on("card.ready",function(){d.ready()}),d.on("card.rendered",function(b){if(d.url=b.url,d.type=b.type,"error"===b.name)return d.__hub.notify("card.error",a),d.remove(),!1;if(a._em_opts){var g=e.extend({},a._em_opts);if(delete a._em_opts,e.isArray(g.types)&&g.types.length>0&&!e.contains(g.types,b.type))return d.__hub.notify("card.error",a),d.remove(),!1}d.rendered=!0,!d.options.twitter_via&&b.defaultTwitterVia&&(d.options.twitter_via=b.defaultTwitterVia);var h=d.elem.parentNode;d.elem.style.display="block",d.elem.style.margin="0",d.elem.style.padding="0",d.elem.style.visibility="visible",d.elem.style.position="relative",b.height?d.elem.height=b.height:d.elem.height="300",b.width?m.isPercent(b.width)?(h.style.width=b.width,d.elem.width="100%"):(d.elem.width=b.width,h.style.maxWidth=b.width+"px"):(d.elem.width="600",h.style.maxWidth="600px"),h.style.padding="0",h.style.position="relative",h.style.minWidth="200px","left"===b.align?h.style.margin="5px 0":"right"===b.align?h.style.margin="5px 0 5px auto":h.style.margin="5px auto",d.elem.style.width=null,d.elem.style.height=null,d.elem.style.maxWidth="100%",d.elem.style.minWidth="200px",f.remove(a),"error"!==b.type&&(c.notify("card.rendered",d.elem,d),b.controls&&k.card(d))}),d.one("card.error",function(a){c.notify("card.error",a)}),d.on("resize",function(){c.notify("card.resize",d.elem,d)}),d.on("log.event",function(a){c.notify("log.event",a)}),d.on("pinterest.log",function(){c.notify("pinterest.log")}),d.on("card.player.ready",function(){c.notify("card.player.ready",d)}),d.on("card.recommend.shown",function(a){c.notify("recommend.shown",d.elem,a)}),d},m.multi=function(a,b,c,d){return a=e.reduce(a,function(a,b){return j.rendering(b)?a:(a.push(b),a)},[]),m.fetch(c,a,b,function(a){e.isFunction(d)&&d(a)})},m.one=function(a,b,c,d){if(j.rendering(a))return null;var f=m.fetch(c,[a],b,function(a){e.isFunction(d)&&d(a[0])});return f[0]},b.exports=m},{"../api.js":29,"../browser.js":30,"../dom.js":34,"../keeper.js":45,"../share.js":78,"../tunnels.js":81,"../urlparse.js":82,"../utils.js":83,"./base.js":39}],42:[function(a,b,c){var d=a("../utils.js"),e=a("../dom.js"),f=a("../urlparse.js"),g=a("./base.js"),h=a("conf"),i={attrs:{frameborder:"0",allowtransparency:"true"},styles:{border:"none",position:"absolute",top:"-9999em",width:"10px",height:"10px"}};i.one=function(a,b){var c=d.getUUID();d.assert(b.name),b=d.extend({sid:c},b?b:{});var j=d.extend({},i.attrs);j.id="emb_xcomm",j["class"]="embedly-xcomm",j.src=h.EMB_SECURE_FRAME_SRC+"xcomm.html#"+f.createQuery(b);var k=e.create("iframe",j);d.each(i.styles,function(a,b){k.style[b]=a});var l=g.connect(c,k,a);return l.on("xcomm.ready",function(){l.ready()}),document.body.appendChild(k),l},b.exports=i},{"../dom.js":34,"../urlparse.js":82,"../utils.js":83,"./base.js":39,conf:"conf"}],43:[function(a,b,c){var d=a("../utils.js"),e=a("../browser.js"),f=a("./base.js"),g=a("../tunnels.js"),h={name:"modal",attrs:{frameborder:"0",allowtransparency:"true"},styles:{border:"none",position:"fixed",top:"0",left:"0",bottom:"0",right:"0",width:"100%",height:"100%",zIndex:"2147483647"}};h.one=function(a,b){if(d.isNone(a)&&(a={url:document.location.toString()}),d.isNone(a.url)&&(a.url=document.location.toString()),a.protocol=window.location.protocol,"window"===a.target)return e.open("http://cdn.embedly.com/widgets/embed?url="+encodeURIComponent(a.url),"Embed Code",635,500),!1;a.t="card";var c=f.create("modal",b,a,h.attrs,h.styles);return c.on("modal.load",function(b){var d=function(a,b){return function(c){a.__tunnel=new g.Tunnel(a.__hub),c.create(b,a.__tunnel)}},e=d(c,a);b.contentWindow.modals?e(b.contentWindow.modals):b.contentWindow.onModalsReady=e}),c.resize=function(){},c.on("modal.close",function(){document.body.style.overflow="inherit",document.body.removeChild(c.elem)}),c.on("modal.ready",function(){c.ready()}),c.one("modal.copy",function(){b.notify("modal.copy",a)}),document.body.appendChild(c.elem),document.body.style.overflow="hidden",c.__appended(),c},b.exports=h},{"../browser.js":30,"../tunnels.js":81,"../utils.js":83,"./base.js":39}],44:[function(a,b,c){var d=a("../utils.js"),e=a("../api.js"),f=a("../dom.js"),g=a("../keeper.js"),h=a("./base.js"),i=a("../tunnels.js"),j={name:"slideshow",attrs:{frameborder:"0",scrolling:"no",allowtransparency:"true",allowfullscreen:"true"},styles:{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},opts:["schema","lang","width","align"]};j.options=function(a,b){if(!d.isElement(a)||!d.isElement(a.parentNode))return null;var c=d.reduce(j.opts,function(a,c){return b.hasOwnProperty(c)&&(a[c]=b[c]),a},b.options?b.options:{});return d.reduce(j.opts,function(b,c){var e=f.data(a,"slideshow-"+c);return d.isNone(e)||(b[c]=e),b},c)},j.urls=function(a,b){return d.isArray(b.urls)&&b.urls.length>0?b.urls:d.reduce(f.children(a,"blockquote"),function(a,b){if("BLOCKQUOTE"===b.nodeName){var c=f.child(b,"h4");if(!d.isNone(c)){var e=f.child(c,"a");d.isNone(e)||a.push(e.href)}}return a},[])},j.fetch=function(a,b){var c={card:1,v:1};e.api().extract(a,c,function(a){b(a)})},j.build=function(a,b,c){var d=b[0].iframe,e=b[0].doc,f=b[1],g=function(a,b,c){return function(d){a.__tunnel=new i.Tunnel(a.__hub),d.create(e.body,{options:b,extract:c,tunnel:a.__tunnel})}},h=g(c,a,f);d.contentWindow.slideshows?h(d.contentWindow.slideshows):d.contentWindow.onSlideshowsReady=h},j.one=function(a,b,c){if(!d.isElement(a))return null;if(b=b?b:{},h.rendering(a))return null;var e=j.options(a,b),i=j.urls(a,b);if(null===e||0===i.length)return null;var k=h.create("slideshow",c,e,j.attrs,j.styles),l=new g,m=l.callback(),n=l.callback();return l.wait(function(a){j.build(e,a,k)}),k.on("slideshow.load",function(a,b){m({iframe:a,doc:b})}),j.fetch(i,n),a.parentNode.insertBefore(k.elem,a),k.on("slideshow.ready",function(){k.ready()}),k.on("slideshow.rendered",function(b){return k.ready(),"error"===b.name?(k.remove(),k.__hub.notify("slideshow.error",a),!1):(k.rendered=!0,k.elem.style.display="block",k.elem.style.margin="10px auto",k.elem.style.visibility="visible",k.elem.style.position="relative",k.elem.width="700",b.height?k.elem.height=b.height:k.elem.height="500",b.width?k.elem.width=b.width:k.elem.width="700",k.elem.style.width=null,k.elem.style.height=null,k.elem.style.maxWidth="99%",k.elem.style.minWidth="300px",void f.remove(a))}),k.on("log.event",function(a){c.notify("log.event",a)}),k.__appended(),k},b.exports=j},{"../api.js":29,"../dom.js":34,"../keeper.js":45,"../tunnels.js":81,"../utils.js":83,"./base.js":39}],45:[function(a,b,c){var d=a("./utils.js"),e=function(){this.init()};e.prototype.init=function(){this.len=0,this.count=0,this.results={},this.finished=!1,this.started=!1},e.prototype.callback=function(){var a=this.len;return this.len++,d.bind(function(b){this.each(a,b)},this)},e.prototype.done=function(){if(!this.started)return!1;if(this.finished)return!0;if(this.count===this.len){this.finished=!0;for(var a=[],b=0;b<this.len;b++)a.push(this.results[b]);return this.func.call(this.ctx,a),!0}},e.prototype.each=function(a,b){this.results[a]=b,this.count++,this.done()},e.prototype.wait=function(a,b){this.func=a,this.ctx=b?b:null,this.started=!0,this.done()},b.exports=e},{"./utils.js":83}],46:[function(a,b,c){b.exports={embed:"Vloit","read-this":"Pest na %s","read-article-on":"Pest tento lnek na %s","view-product-on":"Zobrazit tento produkt na %s","watch-video-on":"Sledovat toto video na %s","show-details":"Zobrazit podrobnosti","add-to-cart":"Pidat do koku",via:"pes %s",send:"Odeslat",share:"Sdlet","share-across":"Sdlej na svch stch","embed-card":"<b>Vloit tuto kartu</b>","share-on":"Sdlet na %s",analytics:"Analza","whats-this":"Co to znamen?","dark-background":"Tmav pozad",chromeless:"Chromeless",minimal:"Minimalistick","add-embed":"Pidejte si tento kd pro vloen na sv internetov strnky, blog, nebo lnek",close:"Zavt","help-with":"Npovda k","need-help":"Potebujete pomoc?","copy-code":"Okoprovat kd pro vloen","back-to-editor":"Zpt na editor vloen","copied-to-clipboard":"Zkoprovno na tvou clipboard","re-copy":"Znovu zkoprovat kd pro vloen","reset-embed":"Reset kdu pro vloen","related-tools":"Souvisejc nstroje a zdroje","add-embed-button":"Pidejte na sv internetov strnky tlatko pro vloen","add-bookmarklet":"Pidejte si bookmarklet Embed do webovho prohlee","learn-more":"Vce informac o slub Embedly a kdech pro vloen Embed","copy-paste":"Zkopruj a vlo tuto HTML na sv webovky","now-paste":"<strong>Nyn, vlo kd pro vloen do sv HTML.</strong>","embed-listing":"Vlo nabdku na sv webovky","view-all-listings":"Prohldni si vechny nabdky v %s"}},{}],47:[function(a,b,c){b.exports={embed:"Indlejr","read-this":"Ls dette p %s","read-article-on":"Ls artiklen p %s","view-product-on":"Se dette produkt p %s","watch-video-on":"Se denne video p %s","show-details":"Vis detaljer","add-to-cart":"Lg i indkbskurv",via:"via %s",send:"Send",share:"Del","share-across":"Del p dine netvrk","embed-card":"<b>Indlejr dette kort</b>","share-on":"Del p %s",analytics:"Analyser","whats-this":"Hvad er det?","dark-background":"Mrk baggrund",chromeless:"Minimal",minimal:"Minimal","add-embed":"Tilfj denne indlejring til din hjemmeside, blog eller artikel",close:"Luk","help-with":"Hjlp til","need-help":"Brug for hjlp?","copy-code":"Kopier indlejringskode","back-to-editor":"Tilbage til indlejringsredaktr","copied-to-clipboard":"Kopieret til din udklipsbakke","re-copy":"Kopir indlejringskode igen","reset-embed":"Nulstil indlejring","related-tools":"Relaterede vrktjer og ressourcer","add-embed-button":"Tiljj indlejringsknappen til din hjemmeside","add-bookmarklet":"Tiljj indlejrings-bookmarklet til din webbrowser","learn-more":"Lr mere om Embedly og indlejringer","copy-paste":"Kopier og indst flgende HTML p din hjemmeside","now-paste":"<strong>Indst nu indlejringskoden</strong> i din HTML.","embed-listing":"Indlejr dette opslag i din hjemmeside","view-all-listings":"Se alle opslag i %s"}},{}],48:[function(a,b,c){b.exports={embed:"Einbetten","read-this":"Mehr dazu auf %s","read-article-on":"Artikel auf %s lesen","view-product-on":"Dieses Produkt auf %s aufrufen","watch-video-on":"Video auf %s ansehen","show-details":"Details anzeigen","add-to-cart":"In den Einkaufswagen",via:"ber %s",send:"Verschicken",
share:"Teilen","share-across":"Mit Deinem Netzwerk teilen","embed-card":"Diese Karte <b>einbetten</b>","share-on":"Auf %s teilen",analytics:"Analyse","whats-this":"Was ist das?","dark-background":"Dunkler Hintergrund",chromeless:"Kompaktversion",minimal:"Minimal","add-embed":"Fgen Sie dieses Embed in Ihre Website, Ihren Blog oder einen Artikel ein",close:"Schlieen","help-with":"Hilfe mit","need-help":"Brauchst du Hilfe?","copy-code":"Einbettungs-Code kopieren","back-to-editor":"Zurck zum Einbettungs-Editor","copied-to-clipboard":"In die Zwischenablage kopiert","re-copy":"Embed Code noch einmal kopieren","reset-embed":"Embed zurcksetzen","related-tools":"hnliche Tools und weitere Resourcen","add-embed-button":"Fgen Sie den Embed Button in Ihre Website ein","add-bookmarklet":"Fgen Sie das Embed Bookmarklet in Ihren Browser ein","learn-more":"Mehr ber Embedly und Embeds","copy-paste":"Kopiere den folgenden HTML-Code in Deine Webseite","now-paste":"<strong>Kopiere den Einbettungs-Code</strong> jetzt in Deinen Quellcode.","embed-listing":"Bette dieses Inserat auf Deine Webseite ein","view-all-listings":"Schau Dir alle Inserate in %s an"}},{}],49:[function(a,b,c){b.exports={embed:"","read-this":"   %s ","read-article-on":"    %s","view-product-on":"     %s","watch-video-on":"     %s","show-details":" ","add-to-cart":"  ",via:" %s",send:"",share:"","share-across":"    ","embed-card":"<b> </b>","share-on":"  %s",analytics:" ","whats-this":"  ;","dark-background":" ",chromeless:" ",minimal:"","add-embed":"     ,  blog,    ",close:"","help-with":" ","need-help":" ;","copy-code":"  ","back-to-editor":"   ","copied-to-clipboard":"  ","re-copy":"   ","reset-embed":" ","related-tools":"  &amp; ","add-embed-button":"      ","add-bookmarklet":"       ","learn-more":"    Embedly   ","copy-paste":"     HTML    ","now-paste":"<strong>,       HTML.</strong>","embed-listing":"      ","view-all-listings":"    / %s"}},{}],50:[function(a,b,c){b.exports={embed:"Embed","read-this":"Read this on %s","read-article-on":"Read the article on %s","view-product-on":"View this product on %s","watch-video-on":"Watch this video on %s","show-details":"Show Details","add-to-cart":"Add to Cart",via:"via %s",send:"Send",share:"Share","share-across":"Share across your networks","embed-card":"<b>Embed</b> this card","share-on":"Share on %s",analytics:"Analytics","whats-this":"What's this?","dark-background":"Dark background",chromeless:"Chromeless",minimal:"Minimal","add-embed":"Add this Embed to your website, blog, or article",close:"Close","help-with":"Help With","need-help":"Need help?","copy-code":"Copy Embed Code","back-to-editor":"Back to Embed Editor","copied-to-clipboard":"Copied to your clipboard","re-copy":"Re-Copy Embed Code","reset-embed":"Reset Embed","related-tools":"Related Tools &amp; Resources","add-embed-button":"Add the Embed button to your website","add-bookmarklet":"Add the Embed bookmarklet to your web browser","learn-more":"Learn more about Embedly and Embeds","copy-paste":"Copy and paste the following HTML into your website.","now-paste":"Now, <strong>paste the embed code</strong> into your HTML.","embed-listing":"Embed this listing on your website","view-all-listings":"View all listings in %s"}},{}],51:[function(a,b,c){b.exports={embed:"Insertar","read-this":"Lee esto en %s","read-article-on":"Lee el artculo en %s","view-product-on":"Mira este producto en %s","watch-video-on":"Mira este vdeo en %s","show-details":"Mostrar detalles","add-to-cart":"Aade al carrito",via:"va %s",send:"Enviar",share:"Compartir","share-across":"Compartir a travs de tus redes","embed-card":"<b>Incrusta</b> esta Card","share-on":"Compartir en %s",analytics:"Analytics","whats-this":"Qu es esto?","dark-background":"Oscurecer fondo",chromeless:"Sin adornos",minimal:"Mnimo","add-embed":"Aadir este Embed a tu pgina web, blog o artculo",close:"Cerrar","help-with":"Ayuda para","need-help":"Necesitas ayuda?","copy-code":"Copiar cdigo de publicacin","back-to-editor":"Volver al editor de publicacin","copied-to-clipboard":"Copiado en portapapeles","re-copy":"Volver a copiar cdigo publicacin","reset-embed":"Restaurar Embed","related-tools":"Recursos y herramientas relacionadas","add-embed-button":"Aadir el botn Embed a tu pgina web","add-bookmarklet":"Aade el bookmarklet de Embed a tu navegador","learn-more":"Ms informacin sobre Embedly y los botones Embed","copy-paste":"Copia y pega el siguiente HTML en tu pgina web","now-paste":"A continuacin, <strong>pega el cdigo de publicacin</strong> en tu HTML.","embed-listing":"Incluye este anuncio en tu pgina web","view-all-listings":"Ver todos los alojamientos en %s"}},{}],52:[function(a,b,c){b.exports={embed:"Upota","read-this":"Lue tm osoitteessa %s","read-article-on":"Lue artikkeli osoitteessa %s","view-product-on":"Katsele tt tuotetta osoitteessa %s","watch-video-on":"Katso tm video osoitteessa %s","show-details":"Nyt tiedot","add-to-cart":"Lis ostoskoriin",via:"tarjonnut %s",send:"Lhet",share:"Jaa","share-across":"Jaa verkostoihisi","embed-card":"<b>Liit tm kortti</b>","share-on":"Jaa sovelluksessa %s",analytics:"Analytiikka","whats-this":"Mik tm on?","dark-background":"Tumma tausta",chromeless:"Pelkistetty",minimal:"Minimalistinen","add-embed":"Lis tm upotus verkkosivuille, blogiin tai artikkeliin",close:"Sulje","help-with":"Ohjeita aiheesta","need-help":"Tarvitsetko apua?","copy-code":"Kopioi sulautuskoodi","back-to-editor":"Takaisin sulautuskoodin muokkaimeen","copied-to-clipboard":"Kopioitu leikkelepydllesi","re-copy":"Kopioi upotuskoodi uudelleen","reset-embed":"Nollaa upotus","related-tools":"Aiheeseen liittyvi tykaluja ja resursseja","add-embed-button":"Upotuspainikkeen lisminen verkkosivuille","add-bookmarklet":"Upotusselainkirjanmerkin lisminen","learn-more":"Lue lis Embedlyst ja upotuksista","copy-paste":"Kopioi ja liit seuraava HTML sivustollesi","now-paste":"<strong>Liit nyt sulautuskoodi</strong> HTML:n.","embed-listing":"Sisllyt tm kohde ilmoitukseesi.","view-all-listings":"Katso kaikki ilmoitukset: %s"}},{}],53:[function(a,b,c){b.exports={embed:"Intgrer","read-this":"Lire ceci sur %s","read-article-on":"Lire cet article sur %s","view-product-on":"Voir ce produit sur %s","watch-video-on":"Regarder cette vido sur %s","show-details":"Afficher les dtails","add-to-cart":"Ajouter au panier",via:"via %s",send:"Envoyer",share:"Partager","share-across":"Partagez  travers vos rseaux","embed-card":"<b>Intgrer cette carte</b>","share-on":"Partager sur %s",analytics:"Analyses","whats-this":"Qu'est-ce que c'est?","dark-background":"Fond sombre",chromeless:"Sans chrome",minimal:"Minimal","add-embed":"Ajouter cet Embed intgr  votre site web, blog ou article",close:"Fermer","help-with":"Aide","need-help":"Besoin d'aide?","copy-code":"Copier le code d'insertion","back-to-editor":"Retour vers l'diteur d'intgration","copied-to-clipboard":"Copi vers votre presse-papier","re-copy":"Re-copier le code d'intgration","reset-embed":"Rinitialiser Embed","related-tools":"Outils et ressources associs","add-embed-button":"Ajouter le bouton Embed  votre site web","add-bookmarklet":"Ajouter le bookmarklet Embed  votre navigateur web","learn-more":"En apprendre plus sur Embedly et les Embeds","copy-paste":"Copiez et collez dans votre site web le code HTML qui suit","now-paste":"Maintenant, <strong>collez le code d'intgration </strong> dans votre HTML.","embed-listing":"Intgrez cette annonce sur votre site web","view-all-listings":"Voir tous les logements  %s"}},{}],54:[function(a,b,c){b.exports={embed:"Ugradi","read-this":"Proitaj ovo na %s","read-article-on":"Proitaj vie na %s","view-product-on":"Pogledaj ovaj proizvod na %s","watch-video-on":"Pogledajte ovaj video na %s","show-details":"Prikai detalje","add-to-cart":"Dodaj u koaricu",via:"via %s",send:"Poalji",share:"Podijeli","share-across":"Podijeli na svojim drutvenim mreama","embed-card":"<b>Ugradi</b> ovu karticu","share-on":"Podijeli na %s",analytics:"Analitika","whats-this":"to je ovo?","dark-background":"Tamna podloga",chromeless:"Chromeless",minimal:"Minimalistiki","add-embed":"Ugradi ovo na svoju web stranicu, blog ili lanak.",close:"Zatvori","help-with":"Pomo","need-help":"Treba pomo?","copy-code":"Kopiraj ugradbeni kod","back-to-editor":"Povratak u ugradbeni editor","copied-to-clipboard":"Kopiraj u meuspremnik","re-copy":"Ponovno kopiraj ugradbeni kod","reset-embed":"Resetiraj ugradbeni kod","related-tools":"Povezani alati i resursi","add-embed-button":"Dodaj ugradbeni gumb na svoju web stranicu","add-bookmarklet":"Dodaj ugradbeni bookmarklet u svom web-pregledniku","learn-more":"Saznaj vie o Embedly","copy-paste":"Kopiraj i zalijepi sljedei HTML na svoje web stranice","now-paste":"<strong>Zalijepi ovaj ugradbeni kod</strong> u svoj HTML editor.","embed-listing":"Ugradi ovaj popis na svoju web stranicu","view-all-listings":"Pogledaj popis za %s"}},{}],55:[function(a,b,c){b.exports={embed:"Begyazs","read-this":"Elolvasom itt: %s","read-article-on":"Elolvasom a cikket itt: %s","view-product-on":"Termk megtekintse itt: %s","watch-video-on":"Vide megtekintse itt: %s","show-details":"Rszletek","add-to-cart":"Kosrba",via:"innen: %s",send:"Klds",share:"Megoszts","share-across":"Megoszts hlzataidban","embed-card":"<b>A krtya begyazsa</b>","share-on":"Megoszts itt: %s",analytics:"Analitikk","whats-this":"Mi ez?","dark-background":"Stt httr",chromeless:"Chromeless",minimal:"Miniml","add-embed":"Begyazs elhelyezse a honlapodon, blogodban vagy cikkedben",close:"Bezrs","help-with":"Segtsg ebben:","need-help":"Segtsnk?","copy-code":"Begyazsi kd msolsa","back-to-editor":"Vissza a begyazsszerkeszthz","copied-to-clipboard":"Vglapra msolva","re-copy":"Begyazsi kd jramsolsa","reset-embed":"Visszallts","related-tools":"Kapcsold eszkzk s erforrsok","add-embed-button":"Begyazs gomb megjelentse a honlapodon","add-bookmarklet":"Begyazs knyvjelz hozzadsa a webbngszdhz","learn-more":"Tudj meg tbbet az Embedlyrl s a begyazsrl","copy-paste":"Msold s illeszd be a kvetkez HTML kdot a webhelyedre.","now-paste":"<strong>Most illeszd be a begyazsi kdot a HTML kdba.</strong>","embed-listing":"A hirdets begyazsa webhelyedre","view-all-listings":"Az sszes hirdets megtekintse itt: %s"}},{}],56:[function(a,b,c){b.exports={embed:"Sematkan","read-this":"Baca ini di %s","read-article-on":"Baca artikel ini di %s","view-product-on":"Lihat produk ini di %s","watch-video-on":"Tonton video ini di %s","show-details":"Tampilkan Detail","add-to-cart":"Tambahkan ke Troli",via:"via %s",send:"Kirim",share:"Bagikan","share-across":"Bagikan di seluruh jejaring Anda","embed-card":"<b>Pasangkan kartu ini</b>","share-on":"Bagikan di %s",analytics:"Analisis","whats-this":"Apa ini?","dark-background":"Latar belakang gelap",chromeless:"Tanpa Krom",minimal:"Minimal","add-embed":"Tambahkan Sematan ini ke situs web, blog, atau artikel Anda",close:"Tutup","help-with":"Bantuan Dengan","need-help":"Perlu bantuan?","copy-code":"Salin Kode Pemasangan","back-to-editor":"Kembali ke Editor Pemasangan","copied-to-clipboard":"Disalin ke clipboard Anda","re-copy":"Salin Ulang Kode Semat","reset-embed":"Atur Ulang Sematan","related-tools":"Peralatan &amp; Sumber Daya Terkait","add-embed-button":"Tambahkan tombol Sematkan ke situs web Anda","add-bookmarklet":"Tambahkan bookmarklet Sematan ke peramban web Anda","learn-more":"Pelajari lebih lanjut tentang Embedly dan Sematan","copy-paste":"Salin dan rekatkan HTML berikut ke situs web Anda","now-paste":"<strong>Sekarang, rekatkan kode pemasangan ini ke HTML Anda.</strong>","embed-listing":"Pasangkan iklan ini pada situs web Anda","view-all-listings":"Lihat seluruh iklan di %s"}},{}],57:[function(a,b,c){b.exports={send:"Senda","share-across":"Deila  milum num","embed-card":"<b>vefja etta kort</b>","share-on":"Deila %s","whats-this":"Hva er etta?","copy-code":"Afrita vefjunarka","back-to-editor":"Til baka  Embed Editor","copied-to-clipboard":"Afrita  klemmuspjald itt","copy-paste":"Afritau og lmdu eftirfarandi HTML  heimasu na","now-paste":"<strong>Nna skaltu lma vefjunarkann  itt HTML.</strong>","embed-listing":"vefja essa skrningu  heimasu na","view-all-listings":"Skoa allar skrningar  %s"}},{}],58:[function(a,b,c){b.exports={embed:"Incorpora","read-this":"Leggilo su %s","read-article-on":"Leggi l'articolo su %s","view-product-on":"Visualizza il prodotto su %s","watch-video-on":"Guarda il video su %s","show-details":"Mostra dettagli","add-to-cart":"Aggiungi al carrello",via:"tramite %s",send:"Invia",share:"Condividi","share-across":"Condividi nei tuoi network","embed-card":"<b>Incorpora questa card</b>","share-on":"Condividi su %s",analytics:"Analisi","whats-this":"Che cos'?","dark-background":"Sfondo scuro",chromeless:"Meno decorazioni",minimal:"Minimalista","add-embed":"Aggiungi questo Incorpora al tuo sito web, blog o articolo",close:"Chiudi","help-with":"Aiuto per","need-help":"Ti serve aiuto?","copy-code":"Copia codice embed","back-to-editor":"Torna all'Editor","copied-to-clipboard":"Copiato nei tuoi appunti","re-copy":"Copia nuovamente codice Incorpora","reset-embed":"Ripristina embed","related-tools":"Strumenti e risorse relativi","add-embed-button":"Aggiungi il pulsante Incorpora al tuo sito web","add-bookmarklet":"Aggiungi il bookmarklet di Incorpora al tuo browser di navigazione","learn-more":"Ulteriori informazioni su Embedly e sull'integrazione","copy-paste":"Copia e incolla il seguente HTML nel tuo sito web","now-paste":"<strong>Ora incolla il codice embed nel tuo HTML.</strong>","embed-listing":"Incorpora questo annuncio nel tuo sito web","view-all-listings":"Vedi tutti gli annunci in %s"}},{}],59:[function(a,b,c){b.exports={embed:"Embed","read-this":"%s","read-article-on":"%s","view-product-on":"%s","watch-video-on":"%s","show-details":"","add-to-cart":"",via:"%s",send:"",share:"","share-across":"SNS","embed-card":"<b></b>","share-on":"%s",analytics:"","whats-this":"","dark-background":"",chromeless:"Chromeless",minimal:"","add-embed":"Embed",close:"","help-with":"","need-help":"","copy-code":"","back-to-editor":"","copied-to-clipboard":"","re-copy":"embed","reset-embed":"Embed","related-tools":"","add-embed-button":"Embed","add-bookmarklet":"Embed","learn-more":"EmbedlyEmbed","copy-paste":"HTML","now-paste":"<strong>HTML</strong>","embed-listing":"","view-all-listings":"%s"}},{}],60:[function(a,b,c){b.exports={embed:"","read-this":"%s ","read-article-on":"  %s ","view-product-on":"  %s ","watch-video-on":"%s   ","show-details":"  ","add-to-cart":" ",via:" %s",send:"",share:"","share-across":" ","embed-card":"<b> </b>","share-on":"%s ",analytics:"","whats-this":" ?","dark-background":" ",chromeless:"",minimal:"","add-embed":"  ,    ",close:"","help-with":" ","need-help":" ?","copy-code":"  ","back-to-editor":"  ","copied-to-clipboard":" ","re-copy":"   ","reset-embed":" ","related-tools":"   ","add-embed-button":"   ","add-bookmarklet":"    ","learn-more":"Embedly    ","copy-paste":" HTML   .","now-paste":",  <strong> </strong> HTML .","embed-listing":"   ","view-all-listings":"%s    "}},{}],61:[function(a,b,c){b.exports={embed:"Benam","read-this":"Baca ini di %s","read-article-on":"Baca artikel di %s","view-product-on":"Lihat produk ini di %s","watch-video-on":"Tonton video ini di %s","show-details":"Tunjukkan Butiran","add-to-cart":"Tambahkan ke Troli",via:"melalui %s",send:"Hantar",share:"Kongsi","share-across":"Kongis ke seluruh rangkaian anda","embed-card":"<b>Benam kad ini</b>","share-on":"Kongsi di %s",analytics:"Analitis","whats-this":"Apa ini?","dark-background":"Latar belakang gelap",chromeless:"Tiada krom",minimal:"Minimum","add-embed":"Tambahkan Benam ini ke tapak web, blog atau artikel anda",close:"Tutup","help-with":"Bantuan Tentang","need-help":"Perlukan bantuan?","copy-code":"Salin Kod Benam","back-to-editor":"Kembali ke Editor Benam","copied-to-clipboard":"Ditampal ke papan klip anda","re-copy":"Salin Semula Kod Benam","reset-embed":"Tetapkan Semula Benam","related-tools":"Alat &amp; Sumber Berkaitan","add-embed-button":"Tambahkan butang Benam ke tapak web anda","add-bookmarklet":"Tambahkan aplet penanda buku Benam ke penyemak imbas web anda","learn-more":"Ketahui lebih lanjut tentang Embedly dan Benam","copy-paste":"Salin dan tampal HTML berikut ke tapak web anda","now-paste":"<strong>Sekarang, tampal kod benam ini ke dalam HTML anda.</strong>","embed-listing":"Benam penyenaraian ini di tapak web anda","view-all-listings":"Lihat semua penyenaraian di %s"}},{}],62:[function(a,b,c){b.exports={embed:"Embed","read-this":"Lees dit op %s","read-article-on":"Lees dit artikel op %s","view-product-on":"Bekijk dit product op %s","watch-video-on":"Bekijk deze video op %s","show-details":"Details tonen","add-to-cart":"Toevoegen aan mandje",via:"via %s",send:"Verstuur",share:"Delen","share-across":"Deel in al je netwerken","embed-card":"<b>Sluit</b> deze kaart in","share-on":"Deel op %s",analytics:"Analytics","whats-this":"Wat is dit?","dark-background":"Donkere achtergrond",chromeless:"Chromeless",minimal:"Minimaal","add-embed":"Voeg deze embed toe aan je website, blog of artikel",close:"Sluiten","help-with":"Hulp met","need-help":"Hulp nodig?","copy-code":"Kopieer Insluitcode","back-to-editor":"Terug naar Insluitbewerker","copied-to-clipboard":"Kopieer naar je klembord","re-copy":"Kopieer embedcode opnieuw","reset-embed":"Embed resetten","related-tools":"Gerelateerde tools en bronnen","add-embed-button":"Voeg de embed-knop aan je website toe","add-bookmarklet":"Voeg de embed-bookmarklet aan je browser toe","learn-more":"Leer meer over Embedly en embeds","copy-paste":"Kopieer en plak de volgende HTML op je website","now-paste":"<strong>Plak de embed code</strong> in je HTML.","embed-listing":"Sluit deze advertentie in op je website","view-all-listings":"Bekijk alle accommodaties in %s"}},{}],63:[function(a,b,c){b.exports={embed:"Embed","read-this":"Les mer p %s","read-article-on":"Les hele artikkelen p %s","view-product-on":"Vis dette produktet p %s","watch-video-on":"Se denne videoen p  %s","show-details":"Vis detaljer","add-to-cart":"Legg i handlekurv",via:"via %s",share:"Del","embed-card":"<b>Integrer dette kortet</b>",analytics:"Statistikk","dark-background":"Mrk bakgrunn",chromeless:"minimalistisk",minimal:"Minimalistisk","add-embed":"Legg en link til dette p din blogg eller nettside",close:"Lukk","help-with":"Hjelp med","need-help":"Trenger du hjelp?","copy-code":"Kopier integreringskode","back-to-editor":"Tilbake til Integreringseditor","copied-to-clipboard":"Kopiert til utklippstavlen","re-copy":"Re-kopier embedkoden","reset-embed":"Tilbakestill Embed","related-tools":"Relaterte verkty &amp; Ressurser","add-embed-button":"Legg til embed knappen p din nettside","add-bookmarklet":"Legg til embedly i dine bokmerker","learn-more":"Lr mer om Embedly",send:"Send","share-across":"Del p alle nettverkene dine","share-on":"Del p %s","whats-this":"Hva er dette?","copy-paste":"Kopier og lim inn flgende HTML p nettsiden din","now-paste":"N <strong>lim inn integreringskoden inn i</strong> HTML.","embed-listing":"Integrer utleiestedet p nettsiden din","view-all-listings":"Se alle utleiesteder i %s"}},{}],64:[function(a,b,c){b.exports={embed:"Osad","read-this":"Przeczytaj to na %s","read-article-on":"Przeczytaj ten artyku na %s","view-product-on":"Obejrzyj ten produkt na %s","watch-video-on":"Obejrzyj ten film na %s","show-details":"Poka szczegy","add-to-cart":"Dodaj do koszyka",via:"z %s",send:"Wylij",share:"Udostpnij","share-across":"Udostpnij na swoich portalach","embed-card":"<b>Zamie</b> t kart","share-on":"Udostpnij na: %s",analytics:"Statystyki","whats-this":"Co to jest?","dark-background":"Ciemne to",chromeless:"Bez ozdb",minimal:"Minimalny","add-embed":"Wstaw ten obiekt osadzony w swojej witrynie, blogu lub artykule",close:"Zamknij","help-with":"Pomoc","need-help":"Potrzebujesz pomocy?","copy-code":"Skopiuj kod linku","back-to-editor":"Wr do edytora linku","copied-to-clipboard":"Skopiowano do schowka","re-copy":"Ponownie skopiuj osadzony kod","reset-embed":"Resetuj osadzony obiekt","related-tools":"Powizane narzdzia i zasoby","add-embed-button":"Dodaj osadzony przycisk do swojej witryny","add-bookmarklet":"Wstaw osadzon skryptozakadk w swojej przegldarce","learn-more":"Dowiedz si wicej na temat Embedly i osadzonych   obiektw","copy-paste":"Skopiuj i wklej poniszy kod HTML na swoj stron","now-paste":"Teraz, <strong>skopiuj kod linku</strong> do swojego HTML.","embed-listing":"Umie t ofert na swojej stronie","view-all-listings":"Zobacz wszystkie oferty w: %s"}},{}],65:[function(a,b,c){b.exports={embed:"Embutido","read-this":"Ler isto no %s","read-article-on":"Ler o artigo no %s","view-product-on":"Ver este produto na %s","watch-video-on":"Assistir este vdeo no %s","show-details":"Mostrar detalhes","add-to-cart":"Adicionar ao Carrinho",via:"via %s",send:"Enviar",share:"Comp.","share-across":"Compartilhar em suas redes","embed-card":"<b>Incorporar</b> este carto","share-on":"Compartilhar em %s",analytics:"Anlises","whats-this":"O que  isso?","dark-background":"Fundo escuro",chromeless:"Chromeless",minimal:"Mnimo","add-embed":"Adicione este embutimento em seu site, blog ou artigo",close:"Fechar","help-with":"Ajuda com o Tumblr","need-help":"Precisa de ajuda?","copy-code":"Copiar Cdigo de Incorporao","back-to-editor":"Voltar para o Editor","copied-to-clipboard":"Copiado ao seu clipboard","re-copy":"Copiar cdigo de embutir novamente","reset-embed":"Restaurar Insero","related-tools":"Ferramentas e recursos relacionados","add-embed-button":"Adicione o boto embutir em seu site","add-bookmarklet":"Adicione o bookmarklet do embutimento em seu navegador","learn-more":"Saiba mais sobre o Embedly e os embutimentos","copy-paste":"Copie e cole o seguinte HTML ao seu website","now-paste":"Agora, <strong>cole o cdigo de incorporao</strong> ao seu HTML.","embed-listing":"Incorporar este anncio ao seu website","view-all-listings":"Ver todos os anncios em %s"}},{}],66:[function(a,b,c){b.exports={embed:"Embed","read-this":"Ler isto em %s","read-article-on":"Ler o artigo no %s","view-product-on":"Ver este produto na %s","watch-video-on":"Veja este vdeo em  %s","show-details":"Mostrar Detalhes","add-to-cart":"Adicionar ao Carrinho",via:"via %s",send:"Enviar",share:"Partilhar","share-across":"Partilhar pelas suas redes","embed-card":"<b>Incorporar</b> este carto","share-on":"Megoszts itt: %s",analytics:"Anlise","whats-this":"O que  isto?","dark-background":"Fundo escuro",chromeless:"Sem Cromo",minimal:"Mnimo","add-embed":"Adicionar este Embed ao seu website, blo ou artigo",close:"Fechar","help-with":"Ajuda com","need-help":"Precisa de ajuda?","copy-code":"Copiar Cdigo de Incorporao","back-to-editor":"Voltar para o Editor","copied-to-clipboard":"Copiado para o seu clipboard","re-copy":"Copy cdigo insero novamente","reset-embed":"Repor incorporao","related-tools":"Ferramentas e Recursos Relacionados","add-embed-button":"Adicionar o boto Embed ao seu website","add-bookmarklet":"Adiciconar Embed bookmarklet ao seu navegador web","learn-more":"Saber mais sobre Embedly e Embeds","copy-paste":"Copie e cole o seguinte HTML no seu site","now-paste":"Agora, <strong>colar o cdigo</strong> no seu HTML.","embed-listing":"Incorporar este anncio no seu site","view-all-listings":"Ver todos os anncios em %s"}},{}],67:[function(a,b,c){b.exports={embed:"Embed","read-this":"  %s","read-article-on":"   %s","view-product-on":"    %s","watch-video-on":"    %s","show-details":"","add-to-cart":"  ",via:" %s",send:"",share:"","share-across":"   ","embed-card":"<b>  </b>","share-on":"  %s",analytics:"","whats-this":" ?","dark-background":" ",chromeless:"Chromeless",minimal:"","add-embed":" Embed   -,   ",close:"","help-with":"","need-help":" ?","copy-code":"  ","back-to-editor":"  ","copied-to-clipboard":"   ","re-copy":"   Embed","reset-embed":" Embed","related-tools":"   ","add-embed-button":"  Embed   -","add-bookmarklet":"  Embed  ","learn-more":"   Embedly  Embeds","copy-paste":"    HTML-   ","now-paste":"<strong>       HTML.</strong>","embed-listing":"      ","view-all-listings":"    %s"}},{}],68:[function(a,b,c){b.exports={embed:"Infoga","read-this":"Ls detta p %s","read-article-on":"Ls artikeln p %s","view-product-on":"Visa den hr produkten p %s","watch-video-on":"Visa den hr videon p %s","show-details":"Visa detaljerad info","add-to-cart":"Lgg till i varukorgen",via:"frn %s",send:"Skicka",share:"Dela","share-across":"Dela i dina ntverk","embed-card":"<b>Publicera detta kort</b>","share-on":"Dela p %s",analytics:"Analys","whats-this":"Vad r detta?","dark-background":"Mrk bakgrund",chromeless:"Effektreducering",minimal:"Minimalistiskt","add-embed":"Infoga detta innehll i din webbplats, blogg eller artikel",close:"Avsluta","help-with":"Hjlp med","need-help":"Behver du hjlp?","copy-code":"Kopiera URL","back-to-editor":"Tillbaka till publicerings-redigeraren","copied-to-clipboard":"Kopierad till dina urklipp","re-copy":"Kopiera infogningskoden igen","reset-embed":"terstll infogning","related-tools":"Tillhrande verktyg &amp; resurser","add-embed-button":"Lgg till infogningsknapp p din webbplats","add-bookmarklet":"Lgg till infogning som bokmrkeslnk i din webblsare","learn-more":"Ls mer om Embedly och Embeds","copy-paste":"Kopiera och klistra in fljande HTML i din webbsida","now-paste":"<strong>Klistra nu in URL:en</strong> i din HTML.","embed-listing":"Publicera detta boende p din webbsida","view-all-listings":"Visa alla boenden i %s"}},{}],69:[function(a,b,c){b.exports={embed:"Embed","read-this":"Bunu %s adresinde okuyun","read-article-on":"Makaleyi %s'da okuyun","view-product-on":"Bu rn %s'da grntle","watch-video-on":"Bu videoyu urada izle: %s","show-details":"Ayrntlar Grntle","add-to-cart":"Sepete Ekle",via:"%s yoluyla",send:"Gnder",share:"Payla","share-across":"Alarnz arasnda paylan","embed-card":"<b>Bu kart kattrn</b>","share-on":"%s'da Payla",analytics:"Analizler","whats-this":"Bu nedir?","dark-background":"Koyu arka plan",chromeless:"Sade",minimal:"Minimal","add-embed":"Bu Embedi sitenize, blogunuza ya da makalenize ekleyin",close:"Kapat","help-with":"Yardm","need-help":"Yardm lazm m?","copy-code":"Embed Kodunu Kopyala","back-to-editor":"Embed Dzenleyicisine Dn","copied-to-clipboard":"Panoya kopyaland","re-copy":"Embed kodunu tekrar kopyala","reset-embed":"Embedi Sfrla","related-tools":"lgili Aralar ve Kaynaklar","add-embed-button":"Embed dmesini sitenize ekleyin","add-bookmarklet":"Embed bookmarkletini internet taraycnza ekleyin","learn-more":"Embedly ve Embedler hakknda daha ok bilgi aln","copy-paste":"Kopyala ve kendi sitenize entegre aadaki HTML yaptrn.","now-paste":"imdi de HTML'nize <strong>kattrma kodunu yaptrn</strong>.","embed-listing":"Bu kaytl yeri web sitenize katn","view-all-listings":"Tm listeleri grntlemek %s"}},{}],70:[function(a,b,c){b.exports={embed:"","read-this":"%s","read-article-on":"%s","view-product-on":"%s","watch-video-on":"%s","show-details":"","add-to-cart":"",via:"%s",send:"",share:"","share-across":"","embed-card":"<b></b>","share-on":"%s",analytics:"","whats-this":"","dark-background":"",chromeless:"",minimal:"","add-embed":"",close:"","help-with":"","need-help":"","copy-code":"","back-to-editor":"","copied-to-clipboard":"","re-copy":"","reset-embed":"","related-tools":"","add-embed-button":"","add-bookmarklet":"","learn-more":"Embedly","copy-paste":"HTML","now-paste":"<strong></strong>","embed-listing":"","view-all-listings":"%s"}},{}],71:[function(a,b,c){b.exports={embed:"","read-this":"%s","read-article-on":"%s","view-product-on":"%s","watch-video-on":"%s","show-details":"","add-to-cart":"",via:"%s",send:"",share:"","share-across":"","embed-card":"<b></b>","share-on":"%s",analytics:"","whats-this":"","dark-background":"",chromeless:"",minimal:"","add-embed":"",close:"","help-with":"","need-help":"","copy-code":"","back-to-editor":"","copied-to-clipboard":"","re-copy":"","reset-embed":"","related-tools":"","add-embed-button":"","add-bookmarklet":"","learn-more":" Embedly  Embeds ","copy-paste":"HTML","now-paste":"<strong></strong>","embed-listing":"","view-all-listings":"%s"}},{}],72:[function(a,b,c){var d=a("../utils.js"),e=a("../urlparse.js"),f=a("../browser.js"),g=a("../comms.js"),h={hub:null,timeout:null,connected:!1,connecting:!1,COOKIE_NAME:"em_cdn_uid",sid:d.getUUID(),_queue:[]};h.getUID=function(){var a=f.cookie.get(h.COOKIE_NAME);if(d.isNone(a))return h.setUID();var b=e.parseQuery(decodeURIComponent(a));if(!b.u||!b.t)return h.setUID();var c;try{c=parseInt(b.t,10)}catch(g){return h.setUID()}return 32!==b.u.length?h.setUID():d.getTimestamp()-c>15552e6?h.setUID(b.u):b.u},h.setUID=function(a){var b={u:d.isNone(a)?d.getUUID():a,t:d.getTimestamp()},c=encodeURIComponent(e.createQuery(b));return f.cookie.set(h.COOKIE_NAME,c,365),c=f.cookie.get(h.COOKIE_NAME),d.isNone(c)?0:(b=e.parseQuery(decodeURIComponent(c)),b.u)},h.uid=h.getUID(),h.release=function(){var a=h._queue;h._queue=[],f.console.log("log.release",a),h.hub.notify("xcomm.log.event",{events:a})},h.queue=function(a){clearTimeout(h.timeout),h._queue.push(a),h.comms()&&(h.timeout=setTimeout(function(){h.release();
},50))},h.event=function(a){var b={uid:h.uid,sid:h.sid,t:d.getTimestamp()};window.self===window.top?(b.r=document.location.toString(),b.rr=document.referrer):b.r=document.referrer,d.assert(a.g),d.assert(a.c),d.assert(a.a),b=d.extend({},b,a),"reddit"!==b.c||"load"!==b.a&&"click"!==b.a&&"view"!==b.a||!window.libringEventAPI||window.libringEventAPI.track(b.a,b.u,b.r),h.queue(b)},h.comms=function(){return h.connected?!0:h.hub?h.connecting?!1:(h.connecting=!0,h.hub.one("xcomm.ready",function(){h.connected=!0,h.release()}),void g.connect(h.hub,{name:h.name})):!1},h.connect=function(a,b){h.name=b,a.on("log.event",function(a){h.event(a)}),h.hub=a},b.exports=h},{"../browser.js":30,"../comms.js":33,"../urlparse.js":82,"../utils.js":83}],73:[function(a,b,c){var d=a("./utils.js"),e={};e.intervals=[5,10,15,30],e.sequence=function(a){if(a.length<2)return[];for(var b,c,e,f=[],g=[],h=0;h<a.length;h++)if(c=a[h],d.isNone(b))f.push(c),b=c;else{if(e=c-b,e>2||-2>e?(g.push(f),f=[c]):f.push(c),h===a.length-1){g.push(f);break}b=c}var i,j,k=[];return d.each(g,function(a){a.length>2&&(i=Math.round(a[a.length-1]),j=Math.round(a[0]),k.push({start:j,end:i,duration:i-j}))}),k},e.stringify=function(a){if(0===a.length)return null;var b=[];return d.each(a,function(a){!d.isNone(a)&&d.isNumber(a.start)&&d.isNumber(a.end)&&b.push(Math.round(a.start)+"-"+Math.round(a.end))}),0===b.length?null:b.join(",")},e.Progress=function(a,b){this.init(a,b)},e.Progress.prototype.init=function(a,b){this.started=!1,this.killed=!1,this._timeout=null,this.hub=a,this.type=b,this._interval=0,this._pace=1e3,this.times=[],this.last=null,this.total=0},e.Progress.prototype.nextInterval=function(){var a;return a=this._interval>=e.intervals.length-1?e.intervals[e.intervals.length-1]:e.intervals[this._interval],this._interval++,a},e.Progress.prototype.start=function(){return this.killed?!1:(this.started=!0,void(this._timeout=setTimeout(d.bind(function(){this.emit()},this),this.nextInterval()*this._pace)))},e.Progress.prototype.clear=function(){clearTimeout(this._timeout),this.started=!1,this.times=[]},e.Progress.prototype.kill=function(){this.clear(),this.killed=!0},e.Progress.prototype.emit=function(a){var b=this.times;this.times=[],a!==!1&&this.start();var c=e.sequence(b);if(0===c.length)return!1;if(this.total+=d.reduce(c,function(a,b){return b.duration&&b.duration>0&&(a+=b.duration),a},0),c.length>1)this.hub.notify(this.type+".progress.data",{times:c,duration:this.duration,total:this.total});else{var f=c[0];null!==this.last&&this.last.end&&Math.abs(f.start-this.last.end)<3&&(f.start=this.last.end),this.last=f,this.hub.notify(this.type+".progress.data",{times:[f],duration:this.duration,total:this.total})}this.duration&&this.total&&30*this.duration<=this.total&&this.kill()},e.Progress.prototype.delegate=function(a,b){d.each(this._listeners[a],d.bind(function(a){a.call(this,b)},this))},e.Progress.prototype.on=function(a,b){this._listeners.hasOwnProperty(a)?this._listeners[a].push(b):this._listeners[a]=[b]},e.Progress.prototype.timeupdate=function(a){if(this.killed)return!1;this.times.push(a.seconds);var b=d.isNone(a.duration)?null:Math.floor(a.duration);d.isNone(a.duration)||this.duration===b||(d.isNone(this.duration)?this.duration=b:this.kill()),this.started||this.start()},e.Progress.prototype.ended=function(){return this.killed?!1:void(this.duration&&this.duration>61&&(clearTimeout(this._timeout),this.emit(!1)))},e.Progress.prototype.update=function(a){return this.killed?!1:(this.times.push(a),void(this.started||this.start()))},e.media=function(a){var b=new e.Progress(a,"media");return a.on("media.timeupdate",function(a){b.timeupdate(a)}),a.on("media.ended",function(){b.ended()}),b},e.page=function(a,b,c){var d=new e.Progress(a,"page");b=b?b:1,c=c?c:1e3,d._pace=c;var f=0,g=function(a){d.update(a)};g(0);var h=setInterval(function(){f+=b,f>12e5&&(d.ended(),clearInterval(h)),g(f)},c);return a.on("page.progress.clear",function(){d.ended(),clearInterval(h)}),d},b.exports=e},{"./utils.js":83}],74:[function(a,b,c){var d=a("../urlparse.js"),e=a("../dom.js"),f=a("../i18n.js"),g={re:/airbnb\.(\w+|\w+\.\w+).*/i,affiliate:{card:21215988,slideshow:45919319}};g.encode=function(a){return a.replace(/\s/g,"-")},g.track=function(a,b){var c=g.affiliate.card;return"slideshow"===b&&(c=g.affiliate.slideshow),d.appendQuery(a,{af:c,c:"embedly"})},g.domain=function(a){return a.split("/").slice(0,3).join("/")},g.searchURL=function(a,b){var c=b.locality||b.city,d=g.encode(c)+"--";return d+=/united\sstates/i.test(b.country)?g.encode(b.region):g.encode(b.country),g.track(g.domain(a)+"/s/"+d,b.group)},g.blockquote=function(a,b,c){var d=g.searchURL(a,b),h=b.action_tag||f._("view-all-listings",b.locality);return["<blockquote "+e.attrize(c)+">",'<h4><a href="'+a+'">'+b.title+"</a></h4>","<p>"+b.description,' <a href="'+d+'">'+h+"</a>","</p>","</blockquote>"].join("")},b.exports=g},{"../dom.js":34,"../i18n.js":37,"../urlparse.js":82}],75:[function(a,b,c){var d={tweetRe:/^https?:\/\/twitter\.com\/(\w+)\/(status|statuses)\/(\d+)/,timelineRe:/^https?:\/\/twitter\.com\/(\w+)(\/(lists)(\/([-\w]+))?)?($|\?.*)/};d.id=function(a){var b=d.tweetRe.exec(a);return b&&4===b.length?b[3]:null},d.timeline=function(a){var b=d.timelineRe.exec(a);if(!b)return null;var c={};return b[3]&&"lists"===b[3]?(c.listOwnerScreenName=b[1],c.listSlug=b[5]):c.screenName=b[1],c},b.exports=d},{}],76:[function(a,b,c){var d=a("./utils.js"),e=a("./browser.js"),f=a("./dom.js"),g=function(){this.init()};g.prototype.init=function(){var a=this;document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),a.ready()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),a.ready())}),document.documentElement.doScroll&&window===window.top&&!function(){if(!a.isReady){try{document.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a.ready()}}()),f.addEvent(window,"load",a.ready)},g.prototype.ready=function(){return this.isReady?!1:(this.isReady=!1,void(this.callback&&this.callback()))},g.prototype.bind=function(a){this.isReady&&a(),this.callback=a},g.prototype.elem=function(a,b,c){var d=!1,e=function(){d===!1&&(d=!0,b.call(c))};return a.onload=e,f.addEvent(a,"load",e),a.onreadystatechange=function(){var b=a.readyState;("loaded"===b||"complete"===b)&&(a.onreadystatechange=null,e())},e},g.prototype.firstNode=function(){var a=document.getElementsByTagName("head")[0],b=f.child(a,"link");if(b)return b;var c=f.child(a,"style");if(c)return c;var d=f.child(a,"script");return d?d:null},g.prototype.appendToHead=function(a){var b=this.firstNode();if(null===b){var c=document.getElementsByTagName("head")[0];c?c.appendChild(a):document.body.appendChild(a)}else b.parentNode.insertBefore(a,b)},g.prototype.script=function(a,b,c,e){var f=document.createElement("script");return f.type="text/javascript",f.src=a,d.isNone(e)||d.each(e,function(a,b){f.setAttribute(b,a)}),this.elem(f,b,c),this.appendToHead(f),f},g.prototype.css=function(a,b,c){var d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=a;var f=this.elem(d,b,c);this.appendToHead(d),e.isPhantom()&&f()},b.exports=new g},{"./browser.js":30,"./dom.js":34,"./utils.js":83}],77:[function(a,b,c){var d=a("./utils.js"),e=a("./dom.js"),f=a("./browser.js"),g=a("conf"),h={ignore:/soundcloud\.com|youtube\.com|vimeo\.com/};h.connect=function(a,b){var c=f.location.params();return b=b||c.sid,g.EMB_POST_MESSAGE?(a.on("window.message",function(c,e){return d.isNone(e.sid)||e.sid===b?(f.console.log("receiver.hub.notify",e.method,e),void a.notify(e.method,e)):!1}),e.addEvent(window,"message",function(b){if("__ready__"===b.data)return!1;if(h.ignore.test(b.origin))return!1;var c;try{c=JSON.parse(b.data)}catch(e){return!1}return d.isNone(c)?!1:void a.notify("window.message",b,c)}),void a.on("receiver.send",function(a,c){if(window.self===window.top)return!1;d.isNone(c)&&(c={}),c.method=a,c.sid=b;var e=JSON.stringify(c);window.parent.postMessage(e,"*")})):!1},b.exports=h},{"./browser.js":30,"./dom.js":34,"./utils.js":83,conf:"conf"}],78:[function(a,b,c){var d=a("./utils.js"),e=a("./dom.js"),f=a("./ready.js"),g=a("./urlparse.js"),h=a("./log/front.js"),i=a("conf"),j={_css:!1,hub:null};j.connect=function(a){j.hub=a},j.log=function(a,b){j.hub.notify("log.event",{u:a,g:"card",a:"click",c:b,l:d.hash(h.sid)})},j.url=function(a){var b=["e",d.hash(a),d.hash(h.sid)].join(".");return g.addHash(document.URL,b)},j.buttons=function(a){var b,c=e.create("div",{"class":"embdscl0"});return d.each(["facebook","twitter","pinterest","linkedin","card"],function(d){b=e.create("a",{"class":"embd-"+d}),b.innerHTML="<i></i>",j.buttons[d].call(window,b,a)===!0&&c.appendChild(b)}),c},j.buttons.twitter=function(a,b){var c=b.options.url,f=b.extract.title,h=b.options.twitter_via,i={url:j.url(c)};return f&&(i.text=d.truncate(f,100)),h?i.via="@"===h.substr(0,1)?h.substr(1):h:i.via="embedly",a.href="https://twitter.com/intent/tweet?"+g.createQuery(i),e.addEvent(a,"click",function(c){var d=e.event(c);d.stop(),window.open(a.href,"_blank","width=550,height=410,top=150,left=150"),j.log(b.options.url,"twitter")}),!0},j.buttons.facebook=function(a,b){var c={u:j.url(b.options.url)};return a.href="https://www.facebook.com/sharer/sharer.php?"+g.createQuery(c),e.addEvent(a,"click",function(c){var d=e.event(c);d.stop(),window.open(a.href,"_blank","width=700,height=425,top=150,left=150"),j.log(b.options.url,"facebook")}),!0},j.buttons.pinterest=function(a,b){var c,d="https://www.pinterest.com/pin/create/button/";if(b.options.image)c=b.options.image;else if(b.extract.media&&"photo"===b.extract.media.type)c=b.extract.media.url;else{if(!(b.extract.images&&b.extract.images.length>0))return!1;c=b.extract.images[0].url}return a.href=g.appendQuery(d,{url:j.url(b.options.url),media:c,description:b.extract.title}),e.addEvent(a,"click",function(c){var d=e.event(c);d.stop(),window.open(a.href,"_blank","width=700,height=425,top=150,left=150"),j.log(b.options.url,"pinterest")}),!0},j.buttons.card=function(a,b){return e.addEvent(a,"click",function(a){var c=e.event(a);c.stop();var f={url:b.options.url};d.each(["image","embed","title","description","lang"],function(a){b.options.hasOwnProperty(a)&&(f[a]=b.options[a])}),b.__hub.notify("card.repeat",f),j.log(b.options.url,"repeat")}),!0},j.buttons.linkedin=function(a,b){var c={url:j.url(b.options.url),mini:"true"};return a.href="https://www.linkedin.com/shareArticle?"+g.createQuery(c),e.addEvent(a,"click",function(c){var d=e.event(c);d.stop(),window.open(a.href,"_blank","width=700,height=425,top=150,left=150"),j.log(b.options.url,"linkedin")}),!0},j.buttons.embedly=function(a,b){var c={utm_source:g.getDomain(document.URL),utm_medium:"referral",utm_campaign:"cards"};return a.href=g.appendQuery("http://embed.ly/cards",c),a.target="_blank",e.addEvent(a,"click",function(){j.log(b.options.url,"whats-this")}),!0},j.css=function(a){if(!j._css){j._css=!0;var b=i.EMB_ORIGIN_BASE+"css/social."+i.EMB_ASSET_VERSION+".css";return f.css(b,a),!1}a()},j.card=function(a){var b=a.elem.parentNode;return!d.isElement(b)||"DIV"!==b.nodeName&&!e.hasClass(b,"embedly-card")?!1:void j.css(function(){var c=j.buttons(a);e.addEvent(b,"mouseenter",function(){e.addClass(c,"embd-active")}),e.addEvent(b,"mouseleave",function(){e.removeClass(c,"embd-active")}),b.appendChild(c),a.__hub.notify("card.share.init")})},b.exports=j},{"./dom.js":34,"./log/front.js":72,"./ready.js":76,"./urlparse.js":82,"./utils.js":83,conf:"conf"}],79:[function(a,b,c){var d=a("./utils.js"),e=a("./dom.js"),f={};f.now=function(){var a=new Date;return a.getTime()},f.Vault=function(a){this.init(a)},f.Vault.prototype.init=function(a){this.data=[],this.interval=setInterval(d.bind(function(){this.update()},this),a?a:6e4)},f.Vault.prototype.clear=function(){clearInterval(this.interval),this.data=[]},f.Vault.prototype.add=function(a){var b=e.data(a,"time"),c=this.text(b);this.data.push({time:1*b,elem:a,text:c}),e.text(a,c)},f.Vault.prototype.update=function(){d.each(this.data,function(a){var b=this.text(a.time);b!==a.text&&(a.text=b,e.text(a.elem,a.text))},this)},f.Vault.prototype.text=function(a){for(var b,c=(f.now()-a)/1e3,e=["y","m","d","h","min"],g=31536e3,h=2592e3,i=86400,j=3600,k=60,l=1,m=0,n=d.map([g,h,i,j,k,l],function(a){return b=Math.floor((c-m)/a),m+=b*a,b}),o=0;o<e.length;o++){var p=e[o],q=n[o];if(q)return q+p+" ago"}return"1min ago"},f.vault=function(a){return f._vault?f._vault:(f._vault=new f.Vault(a),f._vault)},f.add=function(a){f.vault().add(a)},f.clear=function(){f._vault&&f._vault.clear(),f._vault=null},b.exports=f},{"./dom.js":34,"./utils.js":83}],80:[function(a,b,c){var d=a("./utils.js"),e=a("./dom.js"),f={instance:null};f.Track=function(a){this.init(a)},f.Track.prototype.init=function(a){this.data={},this.group=null,this.hub=a,this.canTrack=!1},f.Track.prototype.event=function(a,b,c,e){var g={u:this.data.url,r:this.referrer,g:this.group,c:a,a:b,l:c,key:this.data.key,s:this.data.schema};d.isNone(e)||(g=d.extend(g,e));var h={};d.each(g,function(a,b){d.isNone(a)||""===a||(h[b]=a)}),"reddit"===h.c&&("media"===f.group?this.hub.notify("log.event",h):this.hub.notify("receiver.send","log.event",h))},f.Track.prototype.click=function(a,b,c){e.addEvent(a,"click",d.bind(function(){this.event(b,"click",c)},this))},f.Track.prototype.hover=function(a,b){if(!d.isNone(a)){var c={elem:a,category:b,track:this,done:!1};e.addEvent(a,"mouseover",d.bind(function(){this.done===!1&&(this.done=!0,this.track.event(this.category,"hover"))},c))}},f.configure=function(a,b,c){return d.assert(null!==f.instance),f.instance.data=a,f.instance.group=b,f.instance.ignore=d.isNone(c)?!1:c,f.instance.referrer=a.referrer?a.referrer:document.referrer,d.isNone(f.instance.data.url)&&(f.instance.canTrack=!1),f.instance},f.connect=function(a,b){return d.assert(null===f.instance),f.group=b,f.instance=new f.Track(a),a.on("track.event",function(a,b,c,d){f.instance.event(a,b,c,d)}),a.on("track.click",function(a,b,c){f.instance.click(a,b,c)}),a.on("track.hover",function(a,b){f.instance.hover(a,b)}),f.instance},b.exports=f},{"./dom.js":34,"./utils.js":83}],81:[function(a,b,c){var d=a("./utils.js"),e={};e.Tunnel=function(a){this.init(a)},e.Tunnel.prototype.init=function(a){this.parent=a,this.child=null,this.ready=!1,this.queue=[]},e.Tunnel.prototype.connect=function(a){this.child=a,this.child.on("receiver.send",d.bind(function(a,b){d.isNone(b)&&(b={}),b.method=a,setTimeout(d.bind(function(){this.parent.notify("message",b)},this),1)},this)),this.ready=!0,this.release()},e.Tunnel.prototype.release=function(){for(var a=0;a<this.queue.length;a++)this.send(this.queue[a]);this.queue=[]},e.Tunnel.prototype.send=function(a){return this.ready?void setTimeout(d.bind(function(){this.child.notify(a.method,a)},this),1):(this.queue.push(a),!1)},e.Tunnel.prototype.clear=function(){this.ready=!1,this.parent.clear(),this.child&&this.child.clear()},b.exports=e},{"./utils.js":83}],82:[function(a,b,c){var d=a("./utils.js"),e={};e.createQuery=function(a){var b=[],c="";return a&&d.isObject(a)&&!d.isEmptyObject(a)?(d.each(a,function(a,c){b.push(encodeURIComponent(c)+"="+encodeURIComponent(a))}),b.sort(),b.join("&")):c},e.parseQuery=function(a){var b={};if(!a||!d.isString(a))return b;("#"===a.substr(0,1)||"?"===a.substr(0,1))&&(a=a.substr(1));var c=a.split("&");return d.each(c,function(a){if(!a)return!0;var c=a.split("="),d=decodeURIComponent(c[0]);1===c.length?b[d]="":2===c.length?b[d]=decodeURIComponent(c[1]):b[d]=decodeURIComponent(c.slice(1).join("="))}),b},e.getQuery=function(a){if(!a||!d.isString(a))return{};var b=a.split("?");return 2===b.length?e.parseQuery(b[1]):b.length>2?e.parseQuery(b.slice(1).join("?")):{}},e.appendQuery=function(a,b){if(!a||!d.isString(a))return null;var c=a.split("?"),f=c[0];if(!b||!d.isObject(b)||d.isEmptyObject(b))return a;var g=e.getQuery(a);return g=d.extend(g,b),d.isEmptyObject(g)?a:[f,e.createQuery(g)].join("?")},e.removeQuery=function(a,b){if(!a||!d.isString(a))return null;var c=a.split("?"),f=c[0],g=e.getQuery(a);return g.hasOwnProperty(b)&&delete g[b],d.isEmptyObject(g)?f:[f,e.createQuery(g)].join("?")},e.getOrigin=function(a){if(!a||!d.isString(a))return null;if(!/^https?:\/\//.test(a))return null;var b=a.split("/").slice(0,3).join("/");return-1===b.indexOf(".")&&-1===b.indexOf(":")?null:b},e.getDomain=function(a){var b=e.getOrigin(a);return b?b.replace(/^https?:\/\//,""):null},e.param=function(a){return d.map(a,function(a,b){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&")},e.Parsed=function(a,b){this.init(a,b)},e.Parsed.prototype.init=function(a,b){this.original=a,this.url=b,this._valid=!1,this.url=b},e.Parsed.prototype.valid=function(a){return(a===!0||a===!1)&&(this._valid=a),this._valid},e.parse=function(a){var b=a,c="https:"===window.location.protocol?"https:":"http:";a=a?d.trim(a):a;var f=new e.Parsed(b,a);return a?/^https?:\/\/[^\/]+\.[^\/]/i.test(a)?(f.valid(!0),f):/^\w+:/i.test(a)?f:"#"===a[0]?f:/^\/\/[^\/]+\.[^\/]/i.test(a)?(f.valid(!0),f.url=c+a,f):/^\/([^\/]+|$)/i.test(a)?(f.valid(!0),f.url=e.getOrigin(window.location.toString())+a,f):/^[^\/]+\.[^\/]/i.test(a)?(f.valid(!0),f.url="http://"+a,f):f:f},e.addHash=function(a,b){return-1===a.indexOf("#")?a+"#"+b:a+"&"+b},e.sanitize=function(a){return a?(a=a.replace(/#x\d\d;/,""),a.replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]/g,"")):a},b.exports=e},{"./utils.js":83}],83:[function(a,b,c){var d=a("conf"),e={},f={},g=Array.prototype,h=Object.prototype,i=Function.prototype,j=g.slice,k=h.toString,l=g.forEach,m=g.reduce,n=g.every,o=g.indexOf,p=i.bind;e.identity=function(a){return a},e.each=function(a,b,c){if(null!=a)if(l&&a.forEach===l)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(d in a&&b.call(c,a[d],d,a)===f)return}else for(var g in a)if(h.hasOwnProperty.call(a,g)&&b.call(c,a[g],g,a)===f)return},e.map=function(a,b,c){var d=[];return null==a?d:Array.prototype.map&&a.map===Array.prototype.map?a.map(b,c):(e.each(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},e.reduce=function(a,b,c,d){var f=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return d&&(b=e.bind(b,d)),f?a.reduce(b,c):a.reduce(b);if(e.each(a,function(a,e,g){f?c=b.call(d,c,a,e,g):(c=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c},e.zip=function(a){return e.map(a[0],function(b,c){return b.map(a,function(a){return a[c]})})},e.extend=function(a){return e.each(Array.prototype.slice.call(arguments,1),function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},e.contains=function(a,b){if(!o){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1}return a.indexOf(b)>-1},e.every=function(a,b,c){b||(b=e.identity);var d=!0;return null==a?d:n&&a.every===n?a.every(b,c):(e.each(a,function(a,e,g){return(d=d&&b.call(c,a,e,g))?void 0:f}),!!d)},e.indexOf=function(a,b){if(null==a)return-1;var c=0,d=a.length;if(o&&a.indexOf===o)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},e.batch=function(a,b){var c=[],d=[];return e.each(a,function(a){d.push(a),d.length===b&&(c.push(d),d=[])}),0!==d.length&&c.push(d),c};var q=function(){};e.bind=function(a,b){var c,d;if(p&&a.bind===p)return p.apply(a,j.call(arguments,1));if(!e.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));q.prototype=a.prototype;var e=new q;q.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},e.get=function(a,b,c){if(c=e.isNone(c)?null:c,e.isNone(b)||!e.isString(b)||!a)return c;if(""===b)return a;var d=b.split("."),f=d.splice(0,1)[0];return a.hasOwnProperty(f)?e.get(a[f],d.join("."),c):c},e.isFunction=function(a){try{return/^\s*\bfunction\b/.test(a)}catch(b){return!1}},e.isNone=function(a){return null===a||"undefined"==typeof a},e.isString=function(a){return"[object String]"===k.call(a)},e.isNumber=function(a){return"[object Number]"===k.call(a)},e.isDate=function(a){return"[object Date]"===k.call(a)},e.isObject=function(a){return"[object Object]"===k.call(a)},e.isArray=function(a){return"[object Array]"===k.call(a)},e.isElement=function(a){return!e.isNone(a)&&!e.isNone(a.nodeType)&&1===a.nodeType},e.isEmptyObject=function(a){if(e.isObject(a)){for(var b in a)if(h.hasOwnProperty.call(a,b))return!1;return!0}return!1},e.bool=function(a){return e.isNone(a)?null:"true"===a||"yes"===a||"1"===a||1===a||a===!0?!0:"false"===a||"no"===a||"0"===a||0===a||a===!1?!1:null},e.assert=function(a,b){if(!a)throw b||"Assertion Failed"},e.getUUID=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},e.getTimestamp=function(){var a=new Date;return a.getTime()},e.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},e.spaceless=function(a){return a.replace(/\s+/g,"")},e.capitalize=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},e.camelCase=function(a,b){var c=a.split("-");return b=b?b:c.length,c.length>1&&(a=c.splice(0,1)[0],a+=e.map(c.splice(0,b),function(a){return a[0].toUpperCase()+a.substr(1)}).join(""),c.length>0&&(a+="-"+c.join("-"))),a},e.truncate=function(a,b){return a?(b=b?b:50,a.length<b?a:(a=a.substr(0,b-3),e.trim(a)+"...")):""},e.fmt=function(a,b){return a.replace(/{(\w+)}/g,function(a,c){return b[c]?b[c]:""})},e.fullHash=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return Math.abs(e).toString(32)},e.hash=function(a){var b="0000000"+e.fullHash(a);return b.substr(b.length-6)},e.rgbToHex=function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},d.EMB_DEBUG===!0&&(window._=e),b.exports=e},{conf:"conf"}],84:[function(a,b,c){var d=a("./common/a.js"),e=a("./common/receiver.js"),f=a("./common/browser.js"),g=a("./modals/base.js"),h=a("./common/log/front.js"),i=a("./common/track.js"),j=a("./common/ga.js"),k=a("./common/utils.js"),l=a("conf");a("./modals/card.js");var m={created:!1},n=f.location.params();if(m.create=function(){if(m.created)return!1;m.created=!0,j.add("embed"),document.body.id="embed";var a=new d;e.connect(a),h.connect(a,"platform"),i.connect(a),n.t="card";var b=g.get(n,a);f.detect(),b.frame.on("resize",function(a){window.resizeTo(650,a.height+b.additional+75)})},n.url&&window.self===window.top){var o=["https://embed.redditmedia.com/widgets/embed","http://embed.redditmedia.com/widgets/embed",l.EMB_FRAME_SRC+"embed",l.EMB_FRAME_SRC+"modal.html"];k.each(o,function(a){document.URL.substr(0,a.length)===a&&m.create()})}},{"./common/a.js":26,"./common/browser.js":30,"./common/ga.js":36,"./common/log/front.js":72,"./common/receiver.js":77,"./common/track.js":80,"./common/utils.js":83,"./modals/base.js":86,"./modals/card.js":87,conf:"conf"}],85:[function(a,b,c){var d=a("./common/a.js"),e=a("./common/utils.js"),f=a("./common/receiver.js"),g=a("./common/browser.js"),h=a("./common/track.js"),i=a("./modals/base.js");a("./modals/card.js");var j=new d;i.init=function(a,b){return i._inited?!1:(i._inited=!0,document.body.id="modal",g.detect(),b?b.connect(j):a&&f.connect(j,a),void h.connect(j))},i.create=function(a,b){return i.init(a.sid,b),i.get(a,j)},window.modals=i,e.isFunction(window.onModalsReady)&&window.onModalsReady(i)},{"./common/a.js":26,"./common/browser.js":30,"./common/receiver.js":77,"./common/track.js":80,"./common/utils.js":83,"./modals/base.js":86,"./modals/card.js":87}],86:[function(a,b,c){var d=a("../common/utils.js"),e=a("../common/dom.js"),f=a("../common/browser.js"),g=a("../common/i18n.js"),h=a("../common/class.js"),i={};i.base=function(){e.one(".modal-container")||(document.body.innerHTML=['<div class="modal-container">','<div class="modal-hdr">','<h1 class="modal-title"></h1>','<a href="#" class="modal-close-btn">'+g._("close")+"</a>","</div>",'<div class="modal-content">',"</div>","</div><!--eo .modal-container-->",'<div class="overlay"><a class="overlay-close" href="#">&times;</a></div>'].join(""))},i.get=function(a,b){return a.lang&&g.configure(a.lang),i.base(),"card"===a.t||d.isNone(a.t)?/airbnb\.(\w+|\w+\.\w+)\/rooms\/.*/i.test(a.url)?new i.AirbnbModal(a,b):/reddit\.com\/(?:r|user)\/[_-\w]+\/comments\/\w+\/.+\/?($|\?.*|#.*)/i.test(a.url)?new i.RedditModal(a,b):new i.CardModal(a,b):null},i.Overlay=function(a){this.init(a)},i.Overlay.prototype.init=function(a){this.elem=e.one(".overlay"),this.parent=a,e.addEvent(window,"resize",d.bind(function(){this.resize()},this))},i.Overlay.prototype.resize=function(){var a=this.parent.offsetHeight+80,b=f.window.innerHeight();this.elem.style.width=f.window.innerWidth()+"px",this.elem.style.height=(a>b?a:b)+"px"},i.Loading=function(){},i.Loading.prototype.start=function(){var a=e.one(".loading-mod");if(d.isNone(a))return!1;a.innerHTML="";var b=e.create("canvas",{id:"loading"});if(a.appendChild(b),d.isNone(b.getContext))return!1;var c=b.getContext("2d"),f=8,g=265,h=150;b.width=600,b.height=300,c.fillStyle="#3a7990",c.fillRect(g+f,h,7.5*f,f),c.fillRect(g+f,h+6.5*f,7.5*f,f),c.fillRect(g,h+2*f,7.5*f,3.5*f),c.clearRect(g+f,h+3*f,5.5*f,1.5*f);var i=0,j=["#3a7990","#4998b4","#6cadc4"],k=0;setInterval(function(){0===i?(k=k===j.length-1?0:k+1,c.fillStyle=j[k],c.fillRect(g+f,h,7.5*f,f)):1===i?(c.fillRect(g,h+2*f,7.5*f,3.5*f),c.clearRect(g+f,h+3*f,5.5*f,1.5*f)):2===i&&c.fillRect(g+f,h+6.5*f,7.5*f,f),i=3===i?0:i+1},250)},i.Loading.prototype.stop=function(){var a=e.one(".loading-mod");a.style.opacity=0,setTimeout(d.bind(function(){this.style.display="none"},a),500)},i.Modal=h.extend({init:function(a,b){this.hub=b,this.params=a||f.location.params(),this.name=null;var c=e.one(".modal-container");this.overlay=new i.Overlay(c),this.loading=this.getLoading();var g=e.one(".modal-content");g.innerHTML=this.template();var h=e.one(".modal-title");e.text(h,d.isFunction(this.title)?this.title():this.title);var j=e.one(".overlay"),k=e.one(".modal-close-btn");e.addEvent(k,"click",d.bind(function(a){var b=e.event(a);b.stop(),this.hub.notify("receiver.send","modal.close"),this.hub.notify("track.event",this.name,"click","close-button")},this)),e.addEvent(j,"click",d.bind(function(a){var b=e.event(a);b.stop(),this.hub.notify("receiver.send","modal.close"),this.hub.notify("track.event",this.name,"click","close-overlay")},this)),this.attach(),this.hub.notify("receiver.send","modal.ready")},getLoading:function(){return new i.Loading}}),b.exports=i},{"../common/browser.js":30,"../common/class.js":31,"../common/dom.js":34,"../common/i18n.js":37,"../common/utils.js":83}],87:[function(a,b,c){var d=a("../common/browser.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("../common/i18n.js"),h=a("../common/iframes/all.js"),i=a("./base.js"),j=function(){return['<div class="preview-overlay">','<a href="#" class="preview-overlay-txt" id="back-to-embed-editor">'+g._("back-to-editor")+"</a>","</div>",'<div class="modal-bd">','<div class="loading-mod"></div>','<div class="preview-mod">','<div id="preview"></div>','<div class="preview-controls">',"</div>","</div>",'<div class="copy-mod use-copy-fallback">','<label class="code-txt-label" for="code-txt">'+g._("copy-paste")+' <span class="show-help">(<a href="#" id="show-help-trigger">'+g._("need-help")+"</a>)</span></label>",'<input id="code-txt" class="code-txt" value="" type="text" autocapitalize="off" autocorrect="off" autocomplete="off"/>','<a href="#" class="copy-embed-code-btn" id="copy-embed-code-js">'+g._("copy-code")+"</a>",'<a href="#" class="reset-embed-btn" id="reset-embed-js">'+g._("reset-embed")+"</a>",'<div class="paste-mod">','<span class="paste-msg">'+g._("now-paste")+"</span>","</div>","</div>",'<div class="reference-mod">','<div class="left-mod">','<h2 class="mod-heading">'+g._("help-with")+":</h2>",'<ul class="services-list">','<li><a href="http://embed.ly/cards/wordpress"><i class="icn-social-sprite icn-wordpress"></i>Wordpress</a></li>','<li><a href="http://embed.ly/cards/tumblr"><i class="icn-social-sprite icn-tumblr"></i>Tumblr</a></li>','<li><a href="http://embed.ly/cards/blogger"><i class="icn-social-sprite icn-blogger"></i>Blogger</a></li>',"</ul>","</div>",'<div class="right-mod">','<h2 class="mod-heading">'+g._("related-tools")+"</h2>",'<ul class="resources-list">','<li><a href="http://embed.ly/button">+ '+g._("add-embed-button")+"</a></li>",'<li><a href="http://embed.ly/bookmarklet">+ '+g._("add-bookmarklet")+"</a></li>",'<li><a href="http://embed.ly">+ '+g._("learn-more")+"</a></li>","</ul>","</div>","</div>","</div>"].join("")};i.CardModal=i.Modal.extend({title:g._("add-embed"),template:j,attrs:["via","type","chrome","image","embed","title","description","lang","key"],reference:!0,classNames:[],additional:210,scriptHost:"cdn.embedly.com",attach:function(){if(e.each(this.classNames,function(a){f.addClass(document.body,a)}),this.loading.start(),e.isNone(this.params.url))return!1;var a=f.one(".modal-container"),b=f.one(".modal-bd");f.addEvent(f.one("#show-help-trigger"),"click",e.bind(function(c){var d=f.event(c);d.stop(),b.style.marginTop="-"+this.cardHeight+"px",f.addClass(a,"code-copied")},this));var c=document.getElementById("preview"),g={url:this.params.url};e.each(this.attrs,function(a){this.params.hasOwnProperty(a)&&(g[a]=this.params[a])},this),h.cards.one(c,g,this.hub,e.bind(function(a){a.on("card.snippet",function(a){this.createEmbedCode(a.snippet)},this),a.on("card.rendered",function(b){a.send("card.snippet"),a.send("card.freeze"),a.send("card.edit"),this.name=b.name,this.loading.stop();var c=f.one(".preview-mod");c.style.opacity=1;var d=f.one(".copy-mod");d.style.opacity=1,b.chromeable===!1&&e.each(f.all(".preview-control-chromeless"),function(a){a.style.display="none"}),a.send("card.view")},this);var b=f.one(".modal-container"),c=f.one(".modal-bd"),g=f.one(".overlay");a.on("resize",function(a){b.style.height=a.height+this.additional+"px";var c=a.height+this.additional+80;d.window.innerHeight()>c&&(c=d.window.innerHeight()),g.style.height=c+"px",this.cardHeight=a.height},this);var h=f.one(".preview-control-chromeless");f.addEvent(h,"click",e.bind(function(){var b=h.checked===!0?0:1;this.hub.notify("track.event",this.name,"click","chrome"),a.send("card.set",{type:"options",key:"chrome",value:b})},this));var i=document.getElementById("back-to-embed-editor");f.addEvent(i,"click",e.bind(function(a){var d=f.event(a);d.stop(),c.style.marginTop="0px",f.removeClass(b,"code-copied"),this.hub.notify("track.event",this.name,"click","back-to-editor")},this)),this.reference===!1&&f.addClass(b,"no-reference"),this.frame=a,this.rendered(a)},this));var i=f.one(".code-txt");f.addEvent(i,"click",e.bind(function(){this.hub.notify("receiver.send","modal.copy"),setTimeout(function(){i.select()},50)},this))},createEmbedCode:function(a){var b=a;-1===b.indexOf("amp-iframe")&&(b+="\n<",b+='script async src="//'+this.scriptHost+'/widgets/platform.js" charset="UTF-8"><',b+="/script>");var c=f.one(".code-txt");c.value=b,c.select()},rendered:function(){}}),i.AirbnbModal=i.CardModal.extend({classNames:["airbnb"],title:function(){return g._("embed-listing")},reference:!1}),i.RedditModal=i.CardModal.extend({classNames:["reddit"],template:function(){return['<div class="modal-bd">','<div class="copy-mod use-copy-fallback">','<p class="preview-help">Copy this code and paste into your website</p>','<textarea id="code-txt" class="code-txt" value="" type="text" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false"/></textarea>','<a href="#" class="copy-embed-code-btn" id="copy-embed-code-js">'+g._("copy-code")+"</a>","</div>",'<div class="loading-mod"></div>','<div class="preview-mod">','<div class="preview-controls">','<div class="preview-control">','<input class="preview-input-js preview-control-preview" type="checkbox" id="media-preview" checked>','<label class="preview-control-chromeless" for="media-preview">Include media preview</label>&nbsp;',"</div>",'<div class="preview-control">','<input class="preview-input-js preview-control-created" type="checkbox" id="media-created" checked>','<label class="preview-control-created" for="media-created">Do not show if edited</label>&nbsp;',"</div>",'<div class="preview-control">','<input class="preview-input-js preview-control-instant" type="checkbox" id="media-instant">','<label class="preview-control-instant" for="media-instant">Show Facebook Instant Article embed code</label>&nbsp;',"</div>",'<div class="preview-control">','<input class="preview-input-js preview-control-amp" type="checkbox" id="media-amp">','<label class="preview-control-amp" for="media-amp">Show Google AMP embed code</label>&nbsp;',"</div>","</div>",'<div class="preview-title">Preview</div>','<div id="preview"></div>',"</div>","</div>"].join("");
},additional:265,scriptHost:"embed.redditmedia.com",title:function(){return"Embed Code"},reference:!1,getLoading:function(){return{start:function(){var a=f.create("div",{"class":"reddit-alien"});f.one(".loading-mod").appendChild(a)},stop:function(){var a=f.one(".reddit-alien");f.remove(a)}}},rendered:function(a){var b=f.one(".preview-control-preview");f.addEvent(b,"click",e.bind(function(){var a=b.checked===!0?1:0;this.hub.notify("track.event",this.name,"click","preview"),this.frame.send("card.set",{type:"options",key:"preview",value:a})},this));var c=f.one(".preview-control-created");f.addEvent(c,"click",e.bind(function(){var a=c.checked===!0?!0:!1;this.hub.notify("track.event",this.name,"click","created"),this.frame.send("card.set",{type:"options",key:"created",value:a})},this));var d=f.one(".preview-control-instant");f.addEvent(d,"click",e.bind(function(){var a=d.checked===!0?!0:!1;a&&(g.checked=!1),this.hub.notify("track.event",this.name,"click","instant"),this.frame.send("card.set",{type:"options",key:"instant",value:a})},this));var g=f.one(".preview-control-amp");f.addEvent(g,"click",e.bind(function(){var a=g.checked===!0?!0:!1;a&&(d.checked=!1),this.hub.notify("track.event",this.name,"click","amp"),this.frame.send("card.set",{type:"options",key:"amp",value:a})},this)),a.on("card.rendered",function(a){a.previewable||(b.parentElement.style.display="none")})}})},{"../common/browser.js":30,"../common/dom.js":34,"../common/i18n.js":37,"../common/iframes/all.js":38,"../common/utils.js":83,"./base.js":86}],88:[function(a,b,c){var d=a("./common/receiver.js"),e=a("./common/browser.js"),f=a("./common/utils.js"),g=a("./common/dom.js"),h=a("./common/a.js"),i=a("./common/track.js"),j=a("./slideshow/init.js"),k=new h,l={};l.init=function(a,b){return l._inited?!1:(j._inited=!0,document.body.id="slideshow",e.detect(),b?b.connect(k):a&&d.connect(k,a),void i.connect(k))},l.build=function(a,b){if(e.console.log("slideshows.build",a,b),b.extract&&b.extract[0]){var c=b.extract[0].original_url;i.configure({url:c},"card")}k.on("slideshow.ready",function(){k.notify("receiver.send","slideshow.ready")}),k.notify("receiver.send","slideshow.ready");var d=j.get(a,b.options,b.extract,k);return d},l.create=function(a,b){e.console.log("slideshows.create",a,b),b=f.extend({},b),b.options=f.extend({},b.options),b.extract=f.extend({},b.extract),l.init(b.options.sid,b.tunnel),f.isString(a)&&(a=g.one(a)),l.build(a,b)},window.slideshows=l,f.isFunction(window.onSlideshowsReady)&&window.onSlideshowsReady(l),b.exports=l},{"./common/a.js":26,"./common/browser.js":30,"./common/dom.js":34,"./common/receiver.js":77,"./common/track.js":80,"./common/utils.js":83,"./slideshow/init.js":91}],89:[function(a,b,c){var d=a("./base.js"),e=a("../common/utils.js"),f=a("../common/dom.js"),g=a("../common/i18n.js"),h=a("../common/api.js"),i=a("../common/ready.js"),j=a("../common/providers/airbnb.js"),k=a("../common/animations.js"),l=a("../common/colors.js");d.Airbnb=d.Slideshow.extend({template:['<div class="slideshow airbnb">','<div class="slideshow-header">','<div class="slideshow-controls">','<a class="controls-prev disable" href="#"><i></i></a>','<div class="controls-nav">','<span class="controls-page">1</span>','<span class="controls-break">/</span>','<span class="controls-pages"></span>',"</div>",'<a class="controls-next" href="#"><i></i></a>',"</div>","</div>",'<div class="slideshow-images"></div>','<div class="slideshow-meta">','<div class="slideshow-about">','<h1 class="title"><a href="{url}" target="_blank">{title}</a></h1>','<p class="description">{description}</p>','<a class="action" href="{search}" target="_blank">{more}</a>',"</div>","</div>","</div>"].join(""),init:function(a,b,c,d){if(0!==c.length){this.hub=d,b.lang&&g.configure(b.lang),this.options=b,this.data=e.reduce(c,function(a,b){var c=this.clean(b);return c&&a.push(c),a},[],this),this.index=0,this.render(a),d.notify("receiver.send","slideshow.rendered",{name:"airbnb",height:this.height(),slides:this.data.length}),this.r_h=this.height();var h;f.addEvent(window,"resize",e.bind(function(){clearTimeout(h),h=setTimeout(e.bind(this.resize,this),50)},this)),d.notify("track.event","slideshow","load","",{z:e.map(c,function(a){return encodeURIComponent(a.original_url)}).join(",")})}},resize:function(){var a=this.height();a!==this.r_h&&(this.r_h=a,this.hub.notify("receiver.send","resize",{height:a}))},height:function(){return f.one(".slideshow").offsetHeight+4},snippet:function(){var a={"class":"embedly-slideshow","data-slideshow-schema":"airbnb"};this.options.lang&&(a["data-slideshow-lang"]=this.options.lang);var b="<div "+f.attrize(a)+">\n";return b+=e.map(this.data,function(a){return j.blockquote(a.url,a)}).join("\n"),b+="</div>"},image:function(a,b){var c=f.create("a",{"class":"slideshow-image art-place image-"+b,href:a.url,target:"_blank"});c.style.backgroundColor=a.color,c.style.paddingBottom="73.4375%",0===b&&f.addClass(c,"image-active");var d=h.display().crop(a.image,{width:700,height:514}),g=f.create("img");i.elem(g,e.bind(function(){f.hasClass(c,"image-active")&&(g.style.opacity=1),c.style.background="transparent",c.style.paddingBottom=0,f.removeClass(c,"art-place"),this.hub.notify("receiver.send","resize",{height:this.height()})},this));var j=function(a,b){return function(){a.src=b}};return setTimeout(j(g,d),1),c.appendChild(g),c},clean:function(a){if(!a.card.city||!a.card.country)return null;var b=e.extend({group:"slideshow"},a.card);e.each(["url","title","description"],function(c){b[c]=a[c]}),b.url=j.track(b.url,"slideshow"),b.search=j.searchURL(b.url,b),b.more=b.action_tag||g._("view-all-listings",b.locality);var c=a.images[0];if(b.image=c.url,c.colors&&c.colors.length>0){var d=c.colors[0].color;b.color=l.rgbToHex(d[0],d[1],d[2])}else b.color="#fff";return b},render:function(a){a.innerHTML=e.fmt(this.template,this.data[0]);var b=f.one(".slideshow-images");b.style.paddingBottom="73.4375%",b.appendChild(this.image(this.data[0],0)),f.text(".controls-pages",this.data.length),setTimeout(e.bind(function(){e.each(this.data.slice(1),e.bind(function(a,c){b.appendChild(this.image(a,c+1))},this))},this),1),f.addEvent(f.one(".controls-prev"),"click",e.bind(this.prev,this)),f.addEvent(f.one(".controls-next"),"click",e.bind(this.next,this))},update:function(a){var b=this.data[this.index],c=f.one(".image-"+this.index),d=f.child(c,"img"),e=f.one(".image-"+(this.index-a));d.style.opacity=.5,c.style.zIndex=11,c.style.opacity=1,c.style.left=20*a+"px",k.animate(100,function(b){e.style.left=-a*b*20+"px",e.style.opacity=1-b,c.style.left=20*a+-a*b*20+"px",d.style.opacity=0+b},!1,function(){e.style.zIndex=0,c.style.zIndex=10});var g=f.one(".title a");f.text(g,b.title),g.href=b.url,f.text(".description",b.description);var h=f.one(".action");h.href=b.search,f.text(h,b.more),f.text(".controls-page",this.index+1),0===this.index?f.addClass(".controls-prev","disable"):this.index+1===this.data.length&&f.addClass(".controls-next","disable"),0!==this.index&&f.hasClass(".controls-prev","disable")&&f.removeClass(".controls-prev","disable"),this.index+1!==this.data.length&&f.hasClass(".controls-next","disable")&&f.removeClass(".controls-next","disable"),this.resize()},next:function(a){var b=f.event(a);b.stop(),this.index+1>=this.data.length||(this.index++,this.update(1))},prev:function(a){var b=f.event(a);b.stop(),this.index<=0||(this.index--,this.update(-1))}})},{"../common/animations.js":28,"../common/api.js":29,"../common/colors.js":32,"../common/dom.js":34,"../common/i18n.js":37,"../common/providers/airbnb.js":74,"../common/ready.js":76,"../common/utils.js":83,"./base.js":90}],90:[function(a,b,c){var d=a("../common/class.js"),e={};e.Slideshow=d.extend({}),b.exports=e},{"../common/class.js":31}],91:[function(a,b,c){var d=a("./base.js");a("./airbnb.js"),d.get=function(a,b,c,e){var f;return"airbnb"===b.schema&&(f=new d.Airbnb(a,b,c,e)),f?(e.on("slideshow.snippet",function(){var a={snippet:f.snippet()};e.notify("receiver.send","slideshow.snippet",a)}),f):null},b.exports=d},{"./airbnb.js":89,"./base.js":90}],92:[function(a,b,c){function d(a){return function(){var b={method:a},c=Array.prototype.slice.call(arguments);/^get/.test(a)?(e.assert(c.length>0,"Get methods require a callback."),c.unshift(b)):(/^set/.test(a)&&(e.assert(0!==c.length,"Set methods require a value."),b.value=c[0]),c=[b]),this.send.apply(this,c)}}var e={};e.DEBUG=!1,e.VERSION="0.0.10",e.CONTEXT="player.js",e.POST_MESSAGE=!!window.postMessage,e.ENABLE_CONTEXT=!1,e.origin=function(a){return"//"===a.substr(0,2)&&(a=window.location.protocol+a),a.split("/").slice(0,3).join("/")},e.addEvent=function(a,b,c){a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},e.log=function(){e.log.history=e.log.history||[],e.log.history.push(arguments),window.console&&e.DEBUG&&window.console.log(Array.prototype.slice.call(arguments))},e.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)},e.isObject=function(a){return"[object Object]"===Object.prototype.toString.call(a)},e.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e.isNone=function(a){return null===a||void 0===a},e.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},e.indexOf=function(a,b){if(null==a)return-1;var c=0,d=a.length;if(Array.prototype.IndexOf&&a.indexOf===Array.prototype.IndexOf)return a.indexOf(b);for(;d>c;c++)if(a[c]===b)return c;return-1},e.assert=function(a,b){if(!a)throw b||"Player.js Assert Failed"},e.Keeper=function(){this.init()},e.Keeper.prototype.init=function(){this.data={}},e.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},e.Keeper.prototype.has=function(a,b){if(!this.data.hasOwnProperty(a))return!1;if(e.isNone(b))return!0;for(var c=this.data[a],d=0;d<c.length;d++)if(c[d].id===b)return!0;return!1},e.Keeper.prototype.add=function(a,b,c,d,e){var f={id:a,event:b,cb:c,ctx:d,one:e};this.has(b)?this.data[b].push(f):this.data[b]=[f]},e.Keeper.prototype.execute=function(a,b,c,d){if(!this.has(a,b))return!1;for(var f=[],g=[],h=0;h<this.data[a].length;h++){var i=this.data[a][h];e.isNone(b)||!e.isNone(b)&&i.id===b?(g.push({cb:i.cb,ctx:i.ctx?i.ctx:d,data:c}),i.one===!1&&f.push(i)):f.push(i)}0===f.length?delete this.data[a]:this.data[a]=f;for(var j=0;j<g.length;j++){var k=g[j];k.cb.call(k.ctx,k.data)}},e.Keeper.prototype.on=function(a,b,c,d){this.add(a,b,c,d,!1)},e.Keeper.prototype.one=function(a,b,c,d){this.add(a,b,c,d,!0)},e.Keeper.prototype.off=function(a,b){var c=[];if(!this.data.hasOwnProperty(a))return c;for(var d=[],f=0;f<this.data[a].length;f++){var g=this.data[a][f];e.isNone(b)||g.cb===b?e.isNone(g.id)||c.push(g.id):d.push(g)}return 0===d.length?delete this.data[a]:this.data[a]=d,c},e.Player=function(a,b){return this instanceof e.Player?void this.init(a,b):new e.Player(a,b)},e.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},e.EVENTS.all=function(){var a=[];for(var b in e.EVENTS)e.has(e.EVENTS,b)&&e.isString(e.EVENTS[b])&&a.push(e.EVENTS[b]);return a},e.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},e.METHODS.all=function(){var a=[];for(var b in e.METHODS)e.has(e.METHODS,b)&&e.isString(e.METHODS[b])&&a.push(e.METHODS[b]);return a},e.READIED=[],e.Player.prototype.init=function(a,b){var c=this;e.isString(a)&&(a=document.getElementById(a)),this.elem=a,this.origin=e.origin(a.src),this.keeper=new e.Keeper,this.isReady=!1,this.queue=[],this.events=e.EVENTS.all(),this.methods=e.METHODS.all(),e.POST_MESSAGE?e.addEvent(window,"message",function(a){c.receive(a)}):e.log("Post Message is not Available."),e.indexOf(e.READIED,a.src)>-1?c.loaded=!0:this.elem.onload=function(){c.loaded=!0}},e.Player.prototype.send=function(a,b,c){if(a.context=e.CONTEXT,a.version=e.VERSION,b){var d=this.keeper.getUUID();a.listener=d,this.keeper.one(d,a.method,b,c)}return this.isReady||"ready"===a.value?(e.log("Player.send",a,this.origin),this.loaded===!0&&this.elem.contentWindow.postMessage(JSON.stringify(a),this.origin),!0):(e.log("Player.queue",a),this.queue.push(a),!1)},e.Player.prototype.receive=function(a){if(e.log("Player.receive",a),a.origin!==this.origin)return!1;var b;try{b=JSON.parse(a.data)}catch(c){return!1}return e.ENABLE_CONTEXT&&b.context!==e.CONTEXT?!1:("ready"===b.event&&b.value&&b.value.src===this.elem.src&&this.ready(b),void(this.keeper.has(b.event,b.listener)&&this.keeper.execute(b.event,b.listener,b.value,this)))},e.Player.prototype.ready=function(a){if(this.isReady===!0)return!1;a.value.events&&(this.events=a.value.events),a.value.methods&&(this.methods=a.value.methods),this.isReady=!0,this.loaded=!0;for(var b=0;b<this.queue.length;b++){var c=this.queue[b];e.log("Player.dequeue",c),"ready"===a.event&&this.keeper.execute(c.event,c.listener,!0,this),this.send(c)}this.queue=[]},e.Player.prototype.on=function(a,b,c){var d=this.keeper.getUUID();return"ready"===a?this.keeper.one(d,a,b,c):this.keeper.on(d,a,b,c),this.send({method:"addEventListener",value:a,listener:d}),!0},e.Player.prototype.off=function(a,b){var c=this.keeper.off(a,b);if(e.log("Player.off",c),c.length>0)for(var d in c)return this.send({method:"removeEventListener",value:a,listener:c[d]}),!0;return!1},e.Player.prototype.supports=function(a,b){e.assert(e.indexOf(["method","event"],a)>-1,'evtOrMethod needs to be either "event" or "method" got '+a),b=e.isArray(b)?b:[b];for(var c="event"===a?this.events:this.methods,d=0;d<b.length;d++)if(-1===e.indexOf(c,b[d]))return!1;return!0};for(var f=0,g=e.METHODS.all().length;g>f;f++){var h=e.METHODS.all()[f];e.Player.prototype.hasOwnProperty(h)||(e.Player.prototype[h]=d(h))}window.playerjs=e,e.addEvent(window,"message",function(a){var b;try{b=JSON.parse(a.data)}catch(c){return!1}return e.ENABLE_CONTEXT&&b.context!==e.CONTEXT?!1:void("ready"===b.event&&b.value&&b.value.src&&e.READIED.push(b.value.src))}),e.Receiver=function(a,b){this.init(a,b)},e.Receiver.prototype.init=function(a,b){var c=this;this.isReady=!1,this.origin=e.origin(document.referrer),this.methods={},this.supported={events:a?a:e.EVENTS.all(),methods:b?b:e.METHODS.all()},this.eventListeners={},this.reject=!(window.self!==window.top&&e.POST_MESSAGE),this.reject||e.addEvent(window,"message",function(a){c.receive(a)})},e.Receiver.prototype.receive=function(a){var b={};if(e.isObject(a.data))b=a.data;else try{b=window.JSON.parse(a.data)}catch(c){e.log("JSON Parse Error",c)}if(e.log("Receiver.receive",a,b),!b.method)return!1;if(e.ENABLE_CONTEXT&&b.context!==e.CONTEXT)return!1;if(-1===e.indexOf(e.METHODS.all(),b.method))return this.emit("error",{code:2,msg:'Invalid Method "'+b.method+'"'}),!1;var d=e.isNone(b.listener)?null:b.listener;if("addEventListener"===b.method)this.eventListeners.hasOwnProperty(b.value)?-1===e.indexOf(this.eventListeners[b.value],d)&&this.eventListeners[b.value].push(d):this.eventListeners[b.value]=[d],"ready"===b.value&&this.isReady&&this.ready();else if("removeEventListener"===b.method){if(this.eventListeners.hasOwnProperty(b.value)){var f=e.indexOf(this.eventListeners[b.value],d);f>-1&&this.eventListeners[b.value].splice(f,1),0===this.eventListeners[b.value].length&&delete this.eventListeners[b.value]}}else this.get(b.method,b.value,d)},e.Receiver.prototype.get=function(a,b,c){var d=this;if(!this.methods.hasOwnProperty(a))return this.emit("error",{code:3,msg:'Method Not Supported"'+a+'"'}),!1;var e=this.methods[a];if("get"===a.substr(0,3)){var f=function(b){d.send(a,b,c)};e.call(this,f)}else e.call(this,b)},e.Receiver.prototype.on=function(a,b){this.methods[a]=b},e.Receiver.prototype.send=function(a,b,c){if(e.log("Receiver.send",a,b,c),this.reject)return e.log("Receiver.send.reject",a,b,c),!1;var d={context:e.CONTEXT,version:e.VERSION,event:a};e.isNone(b)||(d.value=b),e.isNone(c)||(d.listener=c);var f=JSON.stringify(d);window.parent.postMessage(f,""===this.origin?"*":this.origin)},e.Receiver.prototype.emit=function(a,b){if(!this.eventListeners.hasOwnProperty(a))return!1;e.log("Instance.emit",a,b,this.eventListeners[a]);for(var c=0;c<this.eventListeners[a].length;c++){var d=this.eventListeners[a][c];this.send(a,b,d)}return!0},e.Receiver.prototype.ready=function(){e.log("Receiver.ready"),this.isReady=!0;var a={src:window.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",a)||this.send("ready",a)},e.HTML5Adapter=function(a){return this instanceof e.HTML5Adapter?void this.init(a):new e.HTML5Adapter(a)},e.HTML5Adapter.prototype.init=function(a){e.assert(a,"playerjs.VideoJSReceiver requires a video element");var b=this.receiver=new e.Receiver;a.addEventListener("playing",function(){b.emit("play")}),a.addEventListener("pause",function(){b.emit("pause")}),a.addEventListener("ended",function(){b.emit("ended")}),a.addEventListener("timeupdate",function(){b.emit("timeupdate",{seconds:a.currentTime,duration:a.duration})}),a.addEventListener("progress",function(){b.emit("buffered",{percent:a.buffered.length})}),b.on("play",function(){a.play()}),b.on("pause",function(){a.pause()}),b.on("getPaused",function(b){b(a.paused)}),b.on("getCurrentTime",function(b){b(a.currentTime)}),b.on("setCurrentTime",function(b){a.currentTime=b}),b.on("getDuration",function(b){b(a.duration)}),b.on("getVolume",function(b){b(100*a.volume)}),b.on("setVolume",function(b){a.volume=b/100}),b.on("mute",function(){a.muted=!0}),b.on("unmute",function(){a.muted=!1}),b.on("getMuted",function(b){b(a.muted)}),b.on("getLoop",function(b){b(a.loop)}),b.on("setLoop",function(b){a.loop=b})},e.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},e.JWPlayerAdapter=function(a){return this instanceof e.JWPlayerAdapter?void this.init(a):new e.JWPlayerAdapter(a)},e.JWPlayerAdapter.prototype.init=function(a){e.assert(a,"playerjs.JWPlayerAdapter requires a player object");var b=this.receiver=new e.Receiver;this.looped=!1,a.onPause(function(){b.emit("pause")}),a.onPlay(function(){b.emit("play")}),a.onTime(function(a){var c=a.position,d=a.duration;if(!c||!d)return!1;var e={seconds:c,duration:d};b.emit("timeupdate",e)});var c=this;a.onComplete(function(){c.looped===!0?a.seek(0):b.emit("ended")}),a.onError(function(){b.emit("error")}),b.on("play",function(){a.play(!0)}),b.on("pause",function(){a.pause(!0)}),b.on("getPaused",function(b){b("PLAYING"!==a.getState())}),b.on("getCurrentTime",function(b){b(a.getPosition())}),b.on("setCurrentTime",function(b){a.seek(b)}),b.on("getDuration",function(b){b(a.getDuration())}),b.on("getVolume",function(b){b(a.getVolume())}),b.on("setVolume",function(b){a.setVolume(b)}),b.on("mute",function(){a.setMute(!0)}),b.on("unmute",function(){a.setMute(!1)}),b.on("getMuted",function(b){b(a.getMute()===!0)}),b.on("getLoop",function(a){a(this.looped)},this),b.on("setLoop",function(a){this.looped=a},this)},e.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},e.MockAdapter=function(){return this instanceof e.MockAdapter?void this.init():new e.MockAdapter},e.MockAdapter.prototype.init=function(){var a={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){a.interval=setInterval(function(){a.currentTime+=.25,a.timeupdate({seconds:a.currentTime,duration:a.duration})},250),a.playing=!0},pause:function(){clearInterval(a.interval),a.playing=!1}},b=this.receiver=new e.Receiver;b.on("play",function(){var b=this;a.play(),this.emit("play"),a.timeupdate=function(a){b.emit("timeupdate",a)}}),b.on("pause",function(){a.pause(),this.emit("pause")}),b.on("getPaused",function(b){b(!a.playing)}),b.on("getCurrentTime",function(b){b(a.currentTime)}),b.on("setCurrentTime",function(b){a.currentTime=b}),b.on("getDuration",function(b){b(a.duration)}),b.on("getVolume",function(b){b(a.volume)}),b.on("setVolume",function(b){a.volume=b}),b.on("mute",function(){a.mute=!0}),b.on("unmute",function(){a.mute=!1}),b.on("getMuted",function(b){b(a.mute)}),b.on("getLoop",function(b){b(a.loop)}),b.on("setLoop",function(b){a.loop=b})},e.MockAdapter.prototype.ready=function(){this.receiver.ready()},e.SublimeAdapter=function(a){return this instanceof e.SublimeAdapter?void this.init(a):new e.SublimeAdapter(a)},e.SublimeAdapter.prototype.events=[e.EVENTS.READY,e.EVENTS.PLAY,e.EVENTS.PAUSE,e.EVENTS.ENDED,e.EVENTS.TIMEUPDATE,e.EVENTS.ERROR],e.SublimeAdapter.prototype.methods=[e.METHODS.PLAY,e.METHODS.PAUSE,e.METHODS.GETDURATION,e.METHODS.SETCURRENTTIME,e.METHODS.GETCURRENTTIME,e.METHODS.REMOVEEVENTLISTENER,e.METHODS.ADDEVENTLISTENER],e.SublimeAdapter.prototype.init=function(a){e.assert(a,"playerjs.SublimeAdapter requires a player object");var b=this.receiver=new e.Receiver(this.events,this.methods);a.on("pause",function(){b.emit("pause")}),a.on("play",function(){b.emit("play")}),a.on("timeUpdate",function(a,c){var d=a.duration();if(!c||!d)return!1;var e={seconds:c,duration:d};b.emit("timeupdate",e)}),a.on("end",function(){b.emit("ended")}),b.on("play",function(){a.play()}),b.on("pause",function(){a.pause()}),b.on("getCurrentTime",function(b){b(a.playbackTime())}),b.on("setCurrentTime",function(b){a.seekTo(b)}),b.on("getDuration",function(b){b(a.duration())})},e.SublimeAdapter.prototype.ready=function(){this.receiver.ready()},e.VideoJSAdapter=function(a){return this instanceof e.VideoJSAdapter?void this.init(a):new e.VideoJSAdapter(a)},e.VideoJSAdapter.prototype.init=function(a){e.assert(a,"playerjs.VideoJSReceiver requires a player object");var b=this.receiver=new e.Receiver;a.on("pause",function(){b.emit("pause")}),a.on("play",function(){b.emit("play")}),a.on("timeupdate",function(c){var d=a.currentTime(),e=a.duration();if(!d||!e)return!1;var f={seconds:d,duration:e};b.emit("timeupdate",f)}),a.on("ended",function(){b.emit("ended")}),a.on("error",function(){b.emit("error")}),b.on("play",function(){a.play()}),b.on("pause",function(){a.pause()}),b.on("getPaused",function(b){b(a.paused())}),b.on("getCurrentTime",function(b){b(a.currentTime())}),b.on("setCurrentTime",function(b){a.currentTime(b)}),b.on("getDuration",function(b){b(a.duration())}),b.on("getVolume",function(b){b(100*a.volume())}),b.on("setVolume",function(b){a.volume(b/100)}),b.on("mute",function(){a.volume(0)}),b.on("unmute",function(){a.volume(1)}),b.on("getMuted",function(b){b(0===a.volume())}),b.on("getLoop",function(b){b(a.loop())}),b.on("setLoop",function(b){a.loop(b)})},e.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},b.exports=e},{}],conf:[function(a,b,c){!function(a){a.EMB_DEBUG=!1,a.EMB_HTTPS="http:"!==window.location.protocol?!0:!1,a.EMB_ORIGIN=(a.EMB_HTTPS?"https":"http")+"://cdn.embedly.com",a.EMB_ORIGIN_BASE=a.EMB_ORIGIN+"/",a.EMB_ASSET_VERSION="4f1df371",a.EMB_FRAME_SRC=a.EMB_ORIGIN+"/widgets/",a.EMB_SECURE_FRAME_SRC="https://cdn.embedly.com/widgets/",a.EMB_POST_MESSAGE=!!window.postMessage,a.EMB_PROGRESS=!0,a.EMB_APP_API="https://app.embed.ly",a.EMB_API_KEY="fd92ebbc52fc43fb98f69e50e7893c13";var b=window.location.pathname.split(".")[0].split("/");a.EMB_GROUP=b[b.length-1].toLowerCase(),a.PAGE_PROGRESS_DOMAINS=[]}("undefined"==typeof b?this.conf={}:b.exports)},{}]},{},[1]);